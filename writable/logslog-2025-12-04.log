DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-04 00:00:42 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-04 00:00:42 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:00:42 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"2478","role_id":"2","school_id":"59","timestamp":1764805002}
DEBUG - 2025-12-04 00:00:42 --> ðŸ“ Guardians::list - User ID: 2478, School ID: 59, Is Admin: no
ERROR - 2025-12-04 00:00:42 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-04 00:00:42 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-12-04 00:00:42 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-04 00:00:50 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-04 00:00:50 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:00:50 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"2478","role_id":"2","school_id":"59","timestamp":1764805002}
DEBUG - 2025-12-04 00:00:50 --> ðŸ“ Guardians::list - User ID: 2478, School ID: 59, Is Admin: no
ERROR - 2025-12-04 00:00:50 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-04 00:00:50 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-12-04 00:00:50 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-12-04 00:01:06 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:01:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:01:06 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:01:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:08 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:08 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:08 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:08 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:08 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:08 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:08 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:08 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:11 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:11 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:11 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:11 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:11 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:11 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:11 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:11 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:16 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:16 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:16 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:16 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:17 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:17 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:17 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:17 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:17 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:17 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:17 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:17 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:24 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:24 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:01:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:01:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:01:24 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:24 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:37 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:01:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:01:37 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:01:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:41 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:41 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:41 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:01:41 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:01:41 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:41 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:41 --> Class list results count: 2
DEBUG - 2025-12-04 00:01:41 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:01:44 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:44 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:01:44 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:01:44 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:01:44 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:01:44 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:01:54 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:01:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:01:54 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:01:57 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:01:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:01:57 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:02:02 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:02:02 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:02:02 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:02:02 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:02:02 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:02:02 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:02:02 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:02:02 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:02:02 --> Class list results count: 2
DEBUG - 2025-12-04 00:02:02 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:02:02 --> Class list results count: 2
DEBUG - 2025-12-04 00:02:02 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
WARNING - 2025-12-04 00:02:42 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:02:42 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:03:09 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:03:14 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:03 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:03 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:11 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:11 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:21 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:21 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:23 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:23 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:34 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:34 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:47 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:06:47 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:08:07 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:08:20 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 00:08:20 --> TypeError: App\Services\ReportCard\TemplateService::generatePreview(): Argument #1 ($schema) must be of type array, null given, called in /Applications/MAMP/htdocs/rista_ci4/app/Controllers/ReportCard.php on line 204
[Method: POST, Route: reportcard/template/preview]
in APPPATH/Services/ReportCard/TemplateService.php on line 65.
 1 APPPATH/Controllers/ReportCard.php(204): App\Services\ReportCard\TemplateService->generatePreview(null)
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\ReportCard->templatePreview()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ReportCard))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:08:26 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:10:32 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:12:09 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:12:09 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:12:09 --> Class list results count: 2
DEBUG - 2025-12-04 00:12:09 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
WARNING - 2025-12-04 00:12:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:12:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:13:27 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:13:27 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:13:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:13:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:13:27 --> Class list results count: 2
DEBUG - 2025-12-04 00:13:27 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:13:50 --> AuthFilter: Route = school/addAnnouncement/\App\Controllers\School::addAnnouncement
DEBUG - 2025-12-04 00:13:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:13:50 --> AuthFilter: Token validated successfully for route: school/addAnnouncement/\App\Controllers\School::addAnnouncement
WARNING - 2025-12-04 00:13:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:13:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:13:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:13:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:13:53 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:13:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:13:53 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
WARNING - 2025-12-04 00:13:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:13:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
WARNING - 2025-12-04 00:13:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:13:59 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:13:59 --> Class list results count: 2
DEBUG - 2025-12-04 00:13:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:14:09 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:14:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:14:09 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:14:09 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:14:09 --> ðŸ“¦ Classes::getClassNotes fetched 1 notes
DEBUG - 2025-12-04 00:14:18 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:14:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:14:18 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:14:18 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:14:18 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:14:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:14:59 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:14:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:14:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:14:59 --> Class list results count: 2
DEBUG - 2025-12-04 00:14:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:15:06 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
WARNING - 2025-12-04 00:15:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:15:06 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:15:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:15:06 --> Class list results count: 2
DEBUG - 2025-12-04 00:15:06 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:18:44 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:18:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:18:44 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:18:44 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:18:44 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:18:51 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:18:51 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:18:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:18:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:18:51 --> Class list results count: 2
DEBUG - 2025-12-04 00:18:51 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:18:55 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:18:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:18:55 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:18:55 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:18:55 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:19:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:19:32 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:19:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:19:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:19:32 --> Class list results count: 2
DEBUG - 2025-12-04 00:19:32 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:19:35 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:19:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:19:35 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:19:35 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:19:35 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:19:56 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:19:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:19:56 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:19:56 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:19:56 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:20:28 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:20:28 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:20:28 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:20:28 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:20:28 --> Class list results count: 2
DEBUG - 2025-12-04 00:20:28 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:21:05 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:21:05 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:21:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:21:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:21:06 --> Class list results count: 2
DEBUG - 2025-12-04 00:21:06 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:21:14 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:21:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:21:14 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:21:14 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:21:14 --> ðŸ“¦ Classes::getClassNotes fetched 1 notes
DEBUG - 2025-12-04 00:21:18 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:21:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:21:18 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:21:18 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:21:18 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:23:58 --> ðŸ” PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-12-04 00:23:58 --> ðŸ” PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:23:58 --> ðŸ” PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-12-04 00:23:58 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:23:58 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:23:58 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:23:58 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:23:58 --> ðŸ“¦ PAGINATION - Backend returning 10 records
DEBUG - 2025-12-04 00:23:58 --> Class list results count: 2
DEBUG - 2025-12-04 00:23:58 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:23:58 --> Class list results count: 2
DEBUG - 2025-12-04 00:23:58 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:23:58 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-04 00:23:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:23:58 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:23:58 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:23:58 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-04 00:24:01 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:24:01 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:24:01 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:24:01 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:24:01 --> Class list results count: 2
DEBUG - 2025-12-04 00:24:01 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:24:04 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:24:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:24:04 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:24:04 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:24:04 --> ðŸ“¦ Classes::getClassNotes fetched 0 notes
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:24:12 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":["1374"],"note":"<p>teetata ebn<\/p>","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:24:12 --> âœ… Classes::classAddNotes successfully inserted note with ID: 466
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:24:12 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:24:12 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:24:12 --> ðŸ“¦ Classes::getClassNotes fetched 1 notes
DEBUG - 2025-12-04 00:24:54 --> AuthFilter: Route = school/editAnnouncement/\App\Controllers\School::editAnnouncement
DEBUG - 2025-12-04 00:24:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:24:54 --> AuthFilter: Token validated successfully for route: school/editAnnouncement/\App\Controllers\School::editAnnouncement
WARNING - 2025-12-04 00:24:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:24:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:24:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:24:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:26:26 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:26 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:26 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374","1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:26:26 --> ðŸ“¦ Classes::getClassNotes fetched 2 notes
DEBUG - 2025-12-04 00:26:31 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:31 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:31 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":["1374","1377"],"note":"<p>teasefasdfgasf<\/p>","timezone":"America\/New_York"}
ERROR - 2025-12-04 00:26:31 --> mysqli_sql_exception: Operand should contain 1 column(s) in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('INSERT INTO `cl...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `cl...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `cl...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `cl...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Classes.php(2506): CodeIgniter\Database\BaseBuilder->insert(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Classes->classAddNotes()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Classes))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 00:26:31 --> Add class notes error: Operand should contain 1 column(s) at /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php:692
DEBUG - 2025-12-04 00:26:38 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:38 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:38 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":["1374","1377"],"note":"<p>teasefasdfgasf<\/p>","timezone":"America\/New_York"}
ERROR - 2025-12-04 00:26:38 --> mysqli_sql_exception: Operand should contain 1 column(s) in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('INSERT INTO `cl...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `cl...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `cl...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `cl...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Classes.php(2506): CodeIgniter\Database\BaseBuilder->insert(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Classes->classAddNotes()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Classes))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 00:26:38 --> Add class notes error: Operand should contain 1 column(s) at /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php:692
DEBUG - 2025-12-04 00:26:45 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:45 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:45 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:26:45 --> ðŸ“¦ Classes::getClassNotes fetched 1 notes
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:26:46 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":["1374"],"note":"<p>teasefasdfgasf<\/p>","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:26:46 --> âœ… Classes::classAddNotes successfully inserted note with ID: 467
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:26:46 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:26:46 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:26:46 --> ðŸ“¦ Classes::getClassNotes fetched 2 notes
DEBUG - 2025-12-04 00:27:30 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:27:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:27:30 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:27:30 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374","1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:27:30 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:27:40 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:27:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:27:41 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:27:41 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":["1374","1377"],"note":"<p>asdfasfasdfasdf<\/p>","timezone":"America\/New_York"}
ERROR - 2025-12-04 00:27:41 --> mysqli_sql_exception: Operand should contain 1 column(s) in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('INSERT INTO `cl...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `cl...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `cl...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `cl...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Classes.php(2506): CodeIgniter\Database\BaseBuilder->insert(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Classes->classAddNotes()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Classes))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 00:27:41 --> Add class notes error: Operand should contain 1 column(s) at /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php:692
DEBUG - 2025-12-04 00:29:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:29:40 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:29:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:29:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:29:40 --> Class list results count: 2
DEBUG - 2025-12-04 00:29:40 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:29:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:29:57 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:29:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:29:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:29:57 --> Class list results count: 2
DEBUG - 2025-12-04 00:29:57 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:29:57 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:29:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:29:57 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:29:57 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:29:57 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:30:17 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:30:17 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:30:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:30:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:30:17 --> Class list results count: 2
DEBUG - 2025-12-04 00:30:17 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1295,1296","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:30:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:30:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-04 00:30:23 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:30:23 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:30:23 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 59 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-12-04 00:30:23 --> âœ… Student Assessment returned 0 records
DEBUG - 2025-12-04 00:30:23 --> âœ… Teacher::studentAssessment returning 0 records
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:30:23 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-04 00:30:28 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:30:28 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:30:28 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:30:28 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 59 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-12-04 00:30:28 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:30:28 --> âœ… Student Assessment returned 0 records
DEBUG - 2025-12-04 00:30:28 --> âœ… Teacher::studentAssessment returning 0 records
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:30:28 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-04 00:30:37 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:30:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:30:37 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:30:41 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:30:41 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:30:41 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:30:41 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:30:41 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:30:41 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:31:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:31:08 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:31:08 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:31:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:31:21 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:21 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:31:21 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:31:21 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:31:22 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:22 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:31:32 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:32 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:31:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:31:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:31:32 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:31:32 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:32:30 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:32:30 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:32:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:32:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:32:30 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:32:30 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:32:37 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:32:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:32:37 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:32:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:32:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:32:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:32:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:32:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:32:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:32:46 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:32:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:32:46 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:32:50 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 00:32:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:32:50 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:32:50 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:32:50 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:32:50 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:33:06 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:06 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:33:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:33:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:33:06 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:06 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:33:16 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:33:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:33:16 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:33:19 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:19 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:33:19 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:19 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:33:19 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:33:19 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:33:19 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:33:19 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:33:19 --> Class list results count: 2
DEBUG - 2025-12-04 00:33:19 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:33:19 --> Class list results count: 2
DEBUG - 2025-12-04 00:33:19 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:33:22 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:33:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:33:22 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
WARNING - 2025-12-04 00:33:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:33:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:33:24 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:24 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:33:24 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:33:24 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:34:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:34:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:34:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:34:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:34:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:34:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:35:32 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:35:32 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:35:32 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:35:32 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:35:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:35:32 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:35:32 --> Class list results count: 2
DEBUG - 2025-12-04 00:35:32 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:35:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:35:32 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:35:32 --> Class list results count: 2
DEBUG - 2025-12-04 00:35:32 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
WARNING - 2025-12-04 00:35:34 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:35:34 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:35:38 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:35:38 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:36:21 --> [DEPRECATED] Optional parameter $recipients declared before required parameter $actorId is implicitly treated as a required parameter in APPPATH/Services/ReportCard/EmailService.php on line 39.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): Composer\Autoload\{closure}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Services/ReportCard/EmailService.php')
 3 APPPATH/Controllers/ReportCard.php(48): Composer\Autoload\ClassLoader->loadClass('App\\Services\\ReportCard\\EmailService')
 4 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\ReportCard->__construct()
 5 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:37:16 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:37:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:16 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 00:37:17 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:37:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:17 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:37:22 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:37:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:22 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:37:45 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:37:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:45 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:37:55 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 00:37:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:37:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:38:03 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 00:38:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:38:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:38:05 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:38:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:05 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-04 00:38:06 --> Model mailbox_model not found
ERROR - 2025-12-04 00:38:06 --> Model common_model not found
WARNING - 2025-12-04 00:38:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:38:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 00:38:06 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Route = student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token validated successfully for route: student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:38:06 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"5","user_id":"2488","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:38:06 --> ðŸ‘¤ Classes::curriculumList - isStudent: YES, studentId: 2488
DEBUG - 2025-12-04 00:38:06 --> ðŸ”’ [CLASSES] Applied student filtering for student_id: 2488
DEBUG - 2025-12-04 00:38:06 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
LEFT JOIN `student_class` `scs` ON `scs`.`class_id` = `cc`.`class_id` AND `scs`.`student_id` = 2488
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
AND   (
   (
`cc`.`all_student` = 1
AND `cc`.`end_date` >= '2025-12-04'
AND `scs`.`student_id` = '2488'
  )
OR    (
`cc`.`all_student` = 0
AND `sc`.`student_id` = '2488'
AND sc.id IS NOT NULL
  )
 )
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 00:38:06 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 00:38:06 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 00:38:06 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 00:38:06 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 00:38:06 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 00:38:06 --> ðŸ“¦ Classes::curriculumList fetched 9 row(s)
DEBUG - 2025-12-04 00:38:06 --> ðŸ“„ Classes::curriculumList sample row: {"id":"1","class_id":"1374","content_id":"1","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-11-24","end_date":"2026-01-31","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-11-24 04:48:02","modified_by":"2478","modified_date":"2025-11-24 13:49:45","sys_time":"2025-11-24 08:49:45","class_content_id":"1","content_name":"Sample File 1","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/7b811b655cc4d9.pdf\",\"image\":\"Sample_Question.pdf\",\"size\":21578,\"type\":\"application\\\/pdf\",\"original_name\":\"Sample_Question.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:06 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:38:06 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"5","user_id":"2488","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:38:06 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = ('1374')
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 00:38:06 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
ERROR - 2025-12-04 00:38:10 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:38:25 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:38:25 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:38:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:38:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:38:25 --> Class list results count: 2
DEBUG - 2025-12-04 00:38:25 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:38:25 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:25 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:25 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:38:25 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:38:30 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:30 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:30 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:38:30 --> ðŸ“¦ Classes::getClassNotes fetched 1 notes
DEBUG - 2025-12-04 00:38:33 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:38:33 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:38:33 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:38:33 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:39:18 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":"1377","note":"<p>test<\/p>","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:39:18 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":"1374","note":"<p>test<\/p>","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:39:18 --> âœ… Classes::classAddNotes successfully inserted note with ID: 471
DEBUG - 2025-12-04 00:39:18 --> âœ… Classes::classAddNotes successfully inserted note with ID: 472
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:39:18 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:39:18 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:39:18 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
ERROR - 2025-12-04 00:40:10 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 00:40:11 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:40:12 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:40:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:40:12 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
ERROR - 2025-12-04 00:40:23 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:40:24 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:40:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:40:24 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
ERROR - 2025-12-04 00:40:40 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:40:41 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:40:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:40:41 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 00:41:06 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:06 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:41:06 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:06 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:41:06 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:41:06 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:41:06 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:41:06 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:41:06 --> Class list results count: 2
DEBUG - 2025-12-04 00:41:06 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:41:06 --> Class list results count: 2
DEBUG - 2025-12-04 00:41:06 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:41:09 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:09 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:41:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:41:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:41:09 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:09 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:41:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:41:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:41:13 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:13 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:41:13 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:41:13 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
ERROR - 2025-12-04 00:43:19 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:43:20 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 00:43:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:43:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:43:20 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:43:20 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:43:20 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
ERROR - 2025-12-04 00:43:45 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:43:46 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 00:43:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:43:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:43:46 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:43:46 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:43:46 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:50:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:50:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:51:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:51:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:51:52 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:51:52 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:51:52 --> Class list results count: 2
DEBUG - 2025-12-04 00:51:52 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:51:53 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:51:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:51:53 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:51:53 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:51:53 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-12-04 00:53:58 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:53:58 --> Class list params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","type":"1","list_type":"announcement","timezone":"America\/New_York"}
WARNING - 2025-12-04 00:53:58 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:53:58 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:53:58 --> Class list results count: 2
DEBUG - 2025-12-04 00:53:58 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:53:58 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:53:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:53:58 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:53:58 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:53:58 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-12-04 00:54:00 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:00 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:00 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:00 --> ðŸ“¦ Classes::getClassNotes fetched 2 notes
DEBUG - 2025-12-04 00:54:02 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:02 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:02 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:02 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-12-04 00:54:04 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:04 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:04 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:04 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:54:07 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:07 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:07 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374","1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:07 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-12-04 00:54:16 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:16 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:16 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:16 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 00:54:17 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:17 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:17 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:17 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Route = classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Token validated successfully for route: classes/classAddNotes/\App\Controllers\Classes::classAddNotes
DEBUG - 2025-12-04 00:54:22 --> ðŸ“¥ Classes::classAddNotes params: {"platform":"web","role_id":"2","user_id":"2478","type":"add","status":"1","add_date":"03-12-2025","class_id":"1377","note":"<p>tesasfasdfafsd<\/p>","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:22 --> âœ… Classes::classAddNotes successfully inserted note with ID: 473
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:22 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 00:54:22 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377","1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:22 --> ðŸ“¦ Classes::getClassNotes fetched 6 notes
DEBUG - 2025-12-04 00:54:31 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:54:31 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:54:31 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:54:31 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:54:31 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:54:31 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:31 --> Class list results count: 2
DEBUG - 2025-12-04 00:54:31 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:54:31 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 00:54:31 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:31 --> Class list results count: 2
DEBUG - 2025-12-04 00:54:31 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294,1292","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 00:54:33 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 00:54:33 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:54:33 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:54:33 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:54:33 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:54:33 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:54:39 --> AuthFilter: Route = classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:54:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:39 --> AuthFilter: Token validated successfully for route: classes/updateClass/\App\Controllers\Classes::updateClass
DEBUG - 2025-12-04 00:54:42 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:54:43 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 00:54:43 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:54:43 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:54:43 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 00:54:43 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:54:53 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 00:54:53 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:54:53 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:54:56 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:54:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:56 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-04 00:54:59 --> Model mailbox_model not found
ERROR - 2025-12-04 00:54:59 --> Model common_model not found
WARNING - 2025-12-04 00:54:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:54:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 00:54:59 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Route = student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token validated successfully for route: student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:54:59 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"5","user_id":"2488","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:59 --> ðŸ‘¤ Classes::curriculumList - isStudent: YES, studentId: 2488
DEBUG - 2025-12-04 00:54:59 --> ðŸ”’ [CLASSES] Applied student filtering for student_id: 2488
DEBUG - 2025-12-04 00:54:59 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
LEFT JOIN `student_class` `scs` ON `scs`.`class_id` = `cc`.`class_id` AND `scs`.`student_id` = 2488
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
AND   (
   (
`cc`.`all_student` = 1
AND `cc`.`end_date` >= '2025-12-04'
AND `scs`.`student_id` = '2488'
  )
OR    (
`cc`.`all_student` = 0
AND `sc`.`student_id` = '2488'
AND sc.id IS NOT NULL
  )
 )
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 00:54:59 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 00:54:59 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 00:54:59 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 00:54:59 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 00:54:59 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 00:54:59 --> ðŸ“¦ Classes::curriculumList fetched 9 row(s)
DEBUG - 2025-12-04 00:54:59 --> ðŸ“„ Classes::curriculumList sample row: {"id":"1","class_id":"1374","content_id":"1","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-11-24","end_date":"2026-01-31","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-11-24 04:48:02","modified_by":"2478","modified_date":"2025-11-24 13:49:45","sys_time":"2025-11-24 08:49:45","class_content_id":"1","content_name":"Sample File 1","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/7b811b655cc4d9.pdf\",\"image\":\"Sample_Question.pdf\",\"size\":21578,\"type\":\"application\\\/pdf\",\"original_name\":\"Sample_Question.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:54:59 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:54:59 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"5","user_id":"2488","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:54:59 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = ('1374')
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 00:54:59 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
ERROR - 2025-12-04 00:55:00 --> mysqli_sql_exception: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '),'') as overall_student_feedback,
                         COALESCE((SELECT fee' at line 20 in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT c.conten...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT c.conten...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT c.conten...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(488): CodeIgniter\Database\BaseConnection->query('SELECT c.conten...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(143): App\Models\V1\ContentModel->contentIdList(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->contentDetail()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-12-04 00:55:35 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:55:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:35 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-04 00:55:36 --> Model mailbox_model not found
ERROR - 2025-12-04 00:55:36 --> Model common_model not found
WARNING - 2025-12-04 00:55:36 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:55:36 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 00:55:36 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Route = student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token validated successfully for route: student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 00:55:36 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"5","user_id":"2488","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:55:36 --> ðŸ‘¤ Classes::curriculumList - isStudent: YES, studentId: 2488
DEBUG - 2025-12-04 00:55:36 --> ðŸ”’ [CLASSES] Applied student filtering for student_id: 2488
DEBUG - 2025-12-04 00:55:36 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
LEFT JOIN `student_class` `scs` ON `scs`.`class_id` = `cc`.`class_id` AND `scs`.`student_id` = 2488
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
AND   (
   (
`cc`.`all_student` = 1
AND `cc`.`end_date` >= '2025-12-04'
AND `scs`.`student_id` = '2488'
  )
OR    (
`cc`.`all_student` = 0
AND `sc`.`student_id` = '2488'
AND sc.id IS NOT NULL
  )
 )
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 00:55:36 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 00:55:36 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 00:55:36 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 00:55:36 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 00:55:36 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 00:55:36 --> ðŸ“¦ Classes::curriculumList fetched 9 row(s)
DEBUG - 2025-12-04 00:55:36 --> ðŸ“„ Classes::curriculumList sample row: {"id":"1","class_id":"1374","content_id":"1","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-11-24","end_date":"2026-01-31","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-11-24 04:48:02","modified_by":"2478","modified_date":"2025-11-24 13:49:45","sys_time":"2025-11-24 08:49:45","class_content_id":"1","content_name":"Sample File 1","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/7b811b655cc4d9.pdf\",\"image\":\"Sample_Question.pdf\",\"size\":21578,\"type\":\"application\\\/pdf\",\"original_name\":\"Sample_Question.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:36 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 00:55:36 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"5","user_id":"2488","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:55:36 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = ('1374')
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 00:55:36 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 00:55:37 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 00:55:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:37 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 00:55:39 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 00:55:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:39 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 4) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 4),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":"4","class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 00:55:41 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:41 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": "4",
    "class_id": "1374",
    "overall_student_feedback": "",
    "status": "4",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] status in request: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] student_content_id: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Status determination - Requested status: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "1",
    "redo_test": "0"
}
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Current status: 1, redo_test: 0, requested status: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Status change allowed - new status: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] student_content_id: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 00:55:46",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-04 00:55:46', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = '4'
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 00:55:46",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 00:55:46 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 00:55:46 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 4
                    
DEBUG - 2025-12-04 00:55:46 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 00:55:46 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 00:55:46 --> AuthFilter: Route = student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 00:55:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:46 --> AuthFilter: Token validated successfully for route: student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1293"
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 8
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 1) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 1),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=8 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '8' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Content ID: 8
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"8","content_format":"3","class_id":"1374","student_content_id":1,"class_content_id":"3","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '8'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Content ID: 8
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 2
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 00:55:48 -->    - question_id: 748
DEBUG - 2025-12-04 00:55:48 -->    - question_no: 1
DEBUG - 2025-12-04 00:55:48 -->    - question_type_id: 20
DEBUG - 2025-12-04 00:55:48 -->    - question (RAW from DB): '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:55:48 -->    - question (type): string
DEBUG - 2025-12-04 00:55:48 -->    - question (is_null): NO
DEBUG - 2025-12-04 00:55:48 -->    - question (is_empty): NO
DEBUG - 2025-12-04 00:55:48 -->    - question (length): 31
DEBUG - 2025-12-04 00:55:48 -->    - question (first 100 chars): <p>Quetion - Free form text</p>
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Question #1:
DEBUG - 2025-12-04 00:55:48 -->    - question_id: 749
DEBUG - 2025-12-04 00:55:48 -->    - question_no: 2
DEBUG - 2025-12-04 00:55:48 -->    - question_type_id: 3
DEBUG - 2025-12-04 00:55:48 -->    - question (RAW from DB): '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:55:48 -->    - question (type): string
DEBUG - 2025-12-04 00:55:48 -->    - question (is_null): NO
DEBUG - 2025-12-04 00:55:48 -->    - question (is_empty): NO
DEBUG - 2025-12-04 00:55:48 -->    - question (length): 37
DEBUG - 2025-12-04 00:55:48 -->    - question (first 100 chars): <p>test multiple choice T &amp; F</p>
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "748",
        "question_no": "1",
        "question": "<p>Quetion - Free form text<\/p>",
        "question_type_id": "20"
    },
    {
        "question_id": "749",
        "question_no": "2",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "question_type_id": "3"
    }
]
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "748",
        "content_id": "8",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "<p>Quetion - Free form text<\/p>",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "<p>Quetion - Free form text<\/p>",
        "options": "[{\"isSelected\":\"\"}]",
        "answer": "[{\"correctAnswer\":\"<p>1<\\\/p>\",\"correctActive\":\"\"},{\"correctAnswer\":\"<p>2<\\\/p>\",\"correctActive\":\"\"}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "[{\"hint\":\"<p>hint<\\\/p>\"}]",
        "explanation": "<p>1=1<\/p>",
        "resource": "<p>Resr<\/p>",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:50:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": null
    },
    {
        "question_id": "749",
        "content_id": "8",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "1",
        "question_no": "2",
        "sub_question_no": "2",
        "has_sub_question": "0",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "options": "[{\"options\":\"Opt 1 \",\"isSelected\":\"\"},{\"options\":\"Opt 2\",\"isSelected\":\"\"},{\"options\":\"Opt 3\",\"isSelected\":\"\"},{\"options\":\"Opt 4\",\"isSelected\":\"\"}]",
        "answer": "[\"Yes\",\"No\"]",
        "level": "2",
        "heading_option": "[{\"correctOption\":\"Opt 1 \",\"correctAnswer\":\"Opt 1 \",\"correctActive\":0},{\"correctOption\":\"Opt 2\",\"correctAnswer\":\"Opt 2\",\"correctActive\":1},{\"correctOption\":\"Opt 3\",\"correctAnswer\":\"Opt 3\",\"correctActive\":0},{\"correctOption\":\"Opt 4\",\"correctAnswer\":\"Opt 4\",\"correctActive\":1}]",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "[]",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:51:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": null
    }
]
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 748
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Processing question #1 - question_id: 749
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "748",
        "content_id": "8",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "<p>Quetion - Free form text<\/p>",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "<p>Quetion - Free form text<\/p>",
        "options": [
            {
                "isSelected": ""
            }
        ],
        "answer": [
            {
                "correctAnswer": "<p>1<\/p>",
                "correctActive": ""
            },
            {
                "correctAnswer": "<p>2<\/p>",
                "correctActive": ""
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [
            {
                "hint": "<p>hint<\/p>"
            }
        ],
        "explanation": "<p>1=1<\/p>",
        "resource": "<p>Resr<\/p>",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:50:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "749",
        "content_id": "8",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "1",
        "question_no": "2",
        "sub_question_no": "2",
        "has_sub_question": "0",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "options": [
            {
                "options": "Opt 1 ",
                "isSelected": ""
            },
            {
                "options": "Opt 2",
                "isSelected": ""
            },
            {
                "options": "Opt 3",
                "isSelected": ""
            },
            {
                "options": "Opt 4",
                "isSelected": ""
            }
        ],
        "answer": [
            "Yes",
            "No"
        ],
        "level": "2",
        "heading_option": [
            {
                "correctOption": "Opt 1 ",
                "correctAnswer": "Opt 1 ",
                "correctActive": 0
            },
            {
                "correctOption": "Opt 2",
                "correctAnswer": "Opt 2",
                "correctActive": 1
            },
            {
                "correctOption": "Opt 3",
                "correctAnswer": "Opt 3",
                "correctActive": 0
            },
            {
                "correctOption": "Opt 4",
                "correctAnswer": "Opt 4",
                "correctActive": 1
            }
        ],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:51:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Total questions count: 2
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 748, question_type_id: 20, question: <p>Quetion - Free form text</p>...
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Question #1 - question_id: 749, question_type_id: 3, question: <p>test multiple choice T &amp; F</p>...
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - content_id: 8
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - questions count: 2
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=748, question='<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:55:48 --> ðŸ” [CONTENT DETAIL] - questions[1]: question_id=749, question='<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:55:48 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:55:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:55:48 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1293"
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 8
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 1) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 1),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=8 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 1 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '8' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Content ID: 8
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"8","content_format":"3","class_id":"1374","student_content_id":1,"class_content_id":"3","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '8'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Content ID: 8
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 2
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 00:56:03 -->    - question_id: 748
DEBUG - 2025-12-04 00:56:03 -->    - question_no: 1
DEBUG - 2025-12-04 00:56:03 -->    - question_type_id: 20
DEBUG - 2025-12-04 00:56:03 -->    - question (RAW from DB): '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:56:03 -->    - question (type): string
DEBUG - 2025-12-04 00:56:03 -->    - question (is_null): NO
DEBUG - 2025-12-04 00:56:03 -->    - question (is_empty): NO
DEBUG - 2025-12-04 00:56:03 -->    - question (length): 31
DEBUG - 2025-12-04 00:56:03 -->    - question (first 100 chars): <p>Quetion - Free form text</p>
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Question #1:
DEBUG - 2025-12-04 00:56:03 -->    - question_id: 749
DEBUG - 2025-12-04 00:56:03 -->    - question_no: 2
DEBUG - 2025-12-04 00:56:03 -->    - question_type_id: 3
DEBUG - 2025-12-04 00:56:03 -->    - question (RAW from DB): '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:56:03 -->    - question (type): string
DEBUG - 2025-12-04 00:56:03 -->    - question (is_null): NO
DEBUG - 2025-12-04 00:56:03 -->    - question (is_empty): NO
DEBUG - 2025-12-04 00:56:03 -->    - question (length): 37
DEBUG - 2025-12-04 00:56:03 -->    - question (first 100 chars): <p>test multiple choice T &amp; F</p>
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "748",
        "question_no": "1",
        "question": "<p>Quetion - Free form text<\/p>",
        "question_type_id": "20"
    },
    {
        "question_id": "749",
        "question_no": "2",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "question_type_id": "3"
    }
]
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "748",
        "content_id": "8",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "<p>Quetion - Free form text<\/p>",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "<p>Quetion - Free form text<\/p>",
        "options": "[{\"isSelected\":\"\"}]",
        "answer": "[{\"correctAnswer\":\"<p>1<\\\/p>\",\"correctActive\":\"\"},{\"correctAnswer\":\"<p>2<\\\/p>\",\"correctActive\":\"\"}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "[{\"hint\":\"<p>hint<\\\/p>\"}]",
        "explanation": "<p>1=1<\/p>",
        "resource": "<p>Resr<\/p>",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:50:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": null
    },
    {
        "question_id": "749",
        "content_id": "8",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "1",
        "question_no": "2",
        "sub_question_no": "2",
        "has_sub_question": "0",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "options": "[{\"options\":\"Opt 1 \",\"isSelected\":\"\"},{\"options\":\"Opt 2\",\"isSelected\":\"\"},{\"options\":\"Opt 3\",\"isSelected\":\"\"},{\"options\":\"Opt 4\",\"isSelected\":\"\"}]",
        "answer": "[\"Yes\",\"No\"]",
        "level": "2",
        "heading_option": "[{\"correctOption\":\"Opt 1 \",\"correctAnswer\":\"Opt 1 \",\"correctActive\":0},{\"correctOption\":\"Opt 2\",\"correctAnswer\":\"Opt 2\",\"correctActive\":1},{\"correctOption\":\"Opt 3\",\"correctAnswer\":\"Opt 3\",\"correctActive\":0},{\"correctOption\":\"Opt 4\",\"correctAnswer\":\"Opt 4\",\"correctActive\":1}]",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "[]",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:51:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": null
    }
]
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 748
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: '<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Processing question #1 - question_id: 749
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: '<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "748",
        "content_id": "8",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "<p>Quetion - Free form text<\/p>",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "<p>Quetion - Free form text<\/p>",
        "options": [
            {
                "isSelected": ""
            }
        ],
        "answer": [
            {
                "correctAnswer": "<p>1<\/p>",
                "correctActive": ""
            },
            {
                "correctAnswer": "<p>2<\/p>",
                "correctActive": ""
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [
            {
                "hint": "<p>hint<\/p>"
            }
        ],
        "explanation": "<p>1=1<\/p>",
        "resource": "<p>Resr<\/p>",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:50:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "749",
        "content_id": "8",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "1",
        "question_no": "2",
        "sub_question_no": "2",
        "has_sub_question": "0",
        "question": "<p>test multiple choice T &amp; F<\/p>",
        "options": [
            {
                "options": "Opt 1 ",
                "isSelected": ""
            },
            {
                "options": "Opt 2",
                "isSelected": ""
            },
            {
                "options": "Opt 3",
                "isSelected": ""
            },
            {
                "options": "Opt 4",
                "isSelected": ""
            }
        ],
        "answer": [
            "Yes",
            "No"
        ],
        "level": "2",
        "heading_option": [
            {
                "correctOption": "Opt 1 ",
                "correctAnswer": "Opt 1 ",
                "correctActive": 0
            },
            {
                "correctOption": "Opt 2",
                "correctAnswer": "Opt 2",
                "correctActive": 1
            },
            {
                "correctOption": "Opt 3",
                "correctAnswer": "Opt 3",
                "correctActive": 0
            },
            {
                "correctOption": "Opt 4",
                "correctAnswer": "Opt 4",
                "correctActive": 1
            }
        ],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-25 19:51:34",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Total questions count: 2
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 748, question_type_id: 20, question: <p>Quetion - Free form text</p>...
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Question #1 - question_id: 749, question_type_id: 3, question: <p>test multiple choice T &amp; F</p>...
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - content_id: 8
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - questions count: 2
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=748, question='<p>Quetion - Free form text</p>'
DEBUG - 2025-12-04 00:56:03 --> ðŸ” [CONTENT DETAIL] - questions[1]: question_id=749, question='<p>test multiple choice T &amp; F</p>'
DEBUG - 2025-12-04 00:56:03 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:56:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:03 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Route = school/studentGradeList/\App\Controllers\School::studentGradeList
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Token validated successfully for route: school/studentGradeList/\App\Controllers\School::studentGradeList
WARNING - 2025-12-04 00:56:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:56:06 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Route = report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:06 --> AuthFilter: Token validated successfully for route: report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 00:56:06 --> checkPermission: Token from getHeaderLine: eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:06 --> checkPermission: Validating token for user_id: 2488, controller: report/reportCard
DEBUG - 2025-12-04 00:56:08 --> AuthFilter: Route = student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 00:56:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:08 --> AuthFilter: Token validated successfully for route: student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:09 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 00:56:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:56:09 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:56:10 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:10 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 00:56:11 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 00:56:11 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 00:56:12 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 00:56:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:12 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 00:56:16 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 00:56:16 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 00:56:16 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59,"limit":100,"offset":0}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 00:56:16 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 00:56:16 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 00:56:16 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 00:56:16 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 00:56:16 --> Custom Items Calculation - Student: 2488, School: 59, Date: 2025-12-04, Total: 0.00
INFO - 2025-12-04 00:56:16 --> Balance Calculation (TODAY) - Student: 2488 | Expected Fees (Today): 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
INFO - 2025-12-04 00:56:16 --> Balance Calculation - Included Assignments: [{"id":"50","start_date":"2025-12-03","end_date":null,"enrollment_date":"2025-12-01","amount":300},{"id":"48","start_date":"2025-11-24","end_date":null,"enrollment_date":"2025-11-24","amount":500}] | Total Invoiced: 650.00 (NOT USED), Expected Fees: 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
DEBUG - 2025-12-04 00:56:17 --> AuthFilter: Route = student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 00:56:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:17 --> AuthFilter: Token validated successfully for route: student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:56:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 00:56:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 00:56:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:57:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:58:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 00:59:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:00:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:01:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:02:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:03:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:04:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:05:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:06:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:07:16 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 01:07:16 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 01:07:16 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 01:07:17 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 01:07:17 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 01:07:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 01:07:17 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 01:07:17 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 01:07:17 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:20:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:21:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:22:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:23:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:24:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:25:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:26:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:27:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:28:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:29:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:30:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:31:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:32:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:33:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:34:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:35:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:36:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:37:18 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 01:38:18 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 02:32:22 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 02:32:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:22 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 02:32:23 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 02:32:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 02:32:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":"6","class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 02:32:34 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:34 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 02:32:38 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 02:32:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 02:32:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Route = school/studentGradeList/\App\Controllers\School::studentGradeList
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Token validated successfully for route: school/studentGradeList/\App\Controllers\School::studentGradeList
WARNING - 2025-12-04 02:32:41 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 02:32:41 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Route = report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:41 --> AuthFilter: Token validated successfully for route: report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 02:32:41 --> checkPermission: Token from getHeaderLine: eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:41 --> checkPermission: Validating token for user_id: 2488, controller: report/reportCard
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 02:32:49 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 02:32:49 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 02:32:49 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59,"limit":100,"offset":0}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 02:32:49 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 02:32:49 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 02:32:49 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 02:32:49 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 02:32:49 --> Custom Items Calculation - Student: 2488, School: 59, Date: 2025-12-04, Total: 0.00
INFO - 2025-12-04 02:32:49 --> Balance Calculation (TODAY) - Student: 2488 | Expected Fees (Today): 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
INFO - 2025-12-04 02:32:49 --> Balance Calculation - Included Assignments: [{"id":"50","start_date":"2025-12-03","end_date":null,"enrollment_date":"2025-12-01","amount":300},{"id":"48","start_date":"2025-11-24","end_date":null,"enrollment_date":"2025-11-24","amount":500}] | Total Invoiced: 650.00 (NOT USED), Expected Fees: 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
DEBUG - 2025-12-04 02:32:51 --> AuthFilter: Route = student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 02:32:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:51 --> AuthFilter: Token validated successfully for route: student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 02:32:54 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 02:32:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 02:32:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 02:47:59 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 02:47:59 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 02:47:59 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:13 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:13 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:13 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:23 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:23 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 03:07:23 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 03:08:38 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:08:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:08:38 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:09:07 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 03:09:07 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 03:09:07 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 03:09:08 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:09:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:08 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 03:09:10 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 03:09:10 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 20
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '20' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Content ID: 20
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"20","content_format":"1","class_id":"1374","student_id":"2488","student_content_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:13 --> âš ï¸ [CONTENT DETAIL] Could not find or create student_content - missing class_content_id or class_id
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] - content_id: 20
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-04 03:09:13 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: ""
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 1
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '1' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Content ID: 1
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"1","content_format":"1","class_id":"1374","student_id":"2488","student_content_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:19 --> âš ï¸ [CONTENT DETAIL] Could not find or create student_content - missing class_content_id or class_id
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] - content_id: 1
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-04 03:09:19 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: ""
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 6
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 4) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 4),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=6 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 4 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '6' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Content ID: 6
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"6","content_format":"1","class_id":"1374","student_id":"2488","student_content_id":"4","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] - content_id: 6
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:09:21 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:09:24 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 03:09:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:24 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 03:09:25 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:25 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "4",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] status in request: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Status determination - Requested status: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "1",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Current status: 1, redo_test: 0, requested status: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Status change allowed - new status: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:09:35",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:09:35', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:09:35",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:09:35 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:09:35 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:09:35 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:09:35 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:09:36 --> AuthFilter: Route = student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 03:09:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:36 --> AuthFilter: Token validated successfully for route: student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 16
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 7) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 7),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=16 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '16' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Content ID: 16
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"16","content_format":"3","class_id":"1374","student_content_id":7,"class_content_id":"8","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '16'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Content ID: 16
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 7
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 769
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 0
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 1
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'queasrajsdfian 1'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 16
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): queasrajsdfian 1
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #1:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 770
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 1
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 2
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'mult2'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 5
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): mult2
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #2:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 771
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 2
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 3
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'tureiaj sffalllase'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 18
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): tureiaj sffalllase
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #3:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 772
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 3
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 4
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 66
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #4:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 773
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 4
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 10
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 40
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): text entry short answfe roijaowerjq u=es
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #5:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 774
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 5
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 20
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 32
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): essay long rich textlasjdflasjef
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Question #6:
DEBUG - 2025-12-04 03:09:39 -->    - question_id: 775
DEBUG - 2025-12-04 03:09:39 -->    - question_no: 6
DEBUG - 2025-12-04 03:09:39 -->    - question_type_id: 50
DEBUG - 2025-12-04 03:09:39 -->    - question (RAW from DB): 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 03:09:39 -->    - question (type): string
DEBUG - 2025-12-04 03:09:39 -->    - question (is_null): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (is_empty): NO
DEBUG - 2025-12-04 03:09:39 -->    - question (length): 33
DEBUG - 2025-12-04 03:09:39 -->    - question (first 100 chars): uploadkjaslkdfj queatisen file sr
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "769",
        "question_no": "0",
        "question": "queasrajsdfian 1",
        "question_type_id": "1"
    },
    {
        "question_id": "770",
        "question_no": "1",
        "question": "mult2",
        "question_type_id": "2"
    },
    {
        "question_id": "771",
        "question_no": "2",
        "question": "tureiaj sffalllase",
        "question_type_id": "3"
    },
    {
        "question_id": "772",
        "question_no": "3",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "question_type_id": "4"
    },
    {
        "question_id": "773",
        "question_no": "4",
        "question": "text entry short answfe roijaowerjq u=es",
        "question_type_id": "10"
    },
    {
        "question_id": "774",
        "question_no": "5",
        "question": "essay long rich textlasjdflasjef",
        "question_type_id": "20"
    },
    {
        "question_id": "775",
        "question_no": "6",
        "question": "uploadkjaslkdfj queatisen file sr",
        "question_type_id": "50"
    }
]
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "769",
        "content_id": "16",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "0",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "queasrajsdfian 1",
        "options": "[{\"options\":\"1a\"},{\"options\":\"2b\"},{\"options\":\"3c\"},{\"options\":\"4d\"}]",
        "answer": "[{\"correctActive\":1},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "hintiti 1",
        "explanation": "feedbaisdfj1",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "770",
        "content_id": "16",
        "question_type_id": "2",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "mult2",
        "options": "[{\"options\":\"11a\"},{\"options\":\"12a\"},{\"options\":\"13a\"},{\"options\":\"14a\"}]",
        "answer": "[{\"correctActive\":1},{\"correctActive\":1},{\"correctActive\":0},{\"correctActive\":0}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "2",
        "exact_match": "0",
        "hint": "hinasf 2",
        "explanation": "feeisaowe2",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "771",
        "content_id": "16",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "2",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "tureiaj sffalllase",
        "options": "[]",
        "answer": "[{\"correctAnswer\":\"false\",\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "hint 3",
        "explanation": "fee3",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "772",
        "content_id": "16",
        "question_type_id": "4",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "3",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "options": "[]",
        "answer": "[{\"correctAnswer\":\"abcd\",\"correctActive\":1},{\"correctAnswer\":\"ddde\",\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "1",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "773",
        "content_id": "16",
        "question_type_id": "10",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "4",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "text entry short answfe roijaowerjq u=es",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "2",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "300",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "774",
        "content_id": "16",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "5",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "essay long rich textlasjdflasjef",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "5",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "775",
        "content_id": "16",
        "question_type_id": "50",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "6",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "uploadkjaslkdfj queatisen file sr",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "3",
        "exact_match": "0",
        "hint": "",
        "explanation": "upload file presentation",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 769
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'queasrajsdfian 1'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'queasrajsdfian 1'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #1 - question_id: 770
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'mult2'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'mult2'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #2 - question_id: 771
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'tureiaj sffalllase'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'tureiaj sffalllase'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #3 - question_id: 772
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #4 - question_id: 773
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #5 - question_id: 774
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Processing question #6 - question_id: 775
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "769",
        "content_id": "16",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "0",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "queasrajsdfian 1",
        "options": [
            {
                "options": "1a"
            },
            {
                "options": "2b"
            },
            {
                "options": "3c"
            },
            {
                "options": "4d"
            }
        ],
        "answer": [
            {
                "correctActive": 1
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "feedbaisdfj1",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "770",
        "content_id": "16",
        "question_type_id": "2",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "mult2",
        "options": [
            {
                "options": "11a"
            },
            {
                "options": "12a"
            },
            {
                "options": "13a"
            },
            {
                "options": "14a"
            }
        ],
        "answer": [
            {
                "correctActive": 1
            },
            {
                "correctActive": 1
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "2",
        "exact_match": "0",
        "hint": [],
        "explanation": "feeisaowe2",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "771",
        "content_id": "16",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "2",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "tureiaj sffalllase",
        "options": [],
        "answer": [
            {
                "correctAnswer": "false",
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "fee3",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "772",
        "content_id": "16",
        "question_type_id": "4",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "3",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "options": [],
        "answer": [
            {
                "correctAnswer": "abcd",
                "correctActive": 1
            },
            {
                "correctAnswer": "ddde",
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "1",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "773",
        "content_id": "16",
        "question_type_id": "10",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "4",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "text entry short answfe roijaowerjq u=es",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "2",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "300",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "774",
        "content_id": "16",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "5",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "essay long rich textlasjdflasjef",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "5",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "775",
        "content_id": "16",
        "question_type_id": "50",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "6",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "uploadkjaslkdfj queatisen file sr",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "3",
        "exact_match": "0",
        "hint": [],
        "explanation": "upload file presentation",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Total questions count: 7
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 769, question_type_id: 1, question: queasrajsdfian 1...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #1 - question_id: 770, question_type_id: 2, question: mult2...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #2 - question_id: 771, question_type_id: 3, question: tureiaj sffalllase...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #3 - question_id: 772, question_type_id: 4, question: fill in the blankansdflknasf ______ askdjlfnas;dkh...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #4 - question_id: 773, question_type_id: 10, question: text entry short answfe roijaowerjq u=es...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #5 - question_id: 774, question_type_id: 20, question: essay long rich textlasjdflasjef...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Question #6 - question_id: 775, question_type_id: 50, question: uploadkjaslkdfj queatisen file sr...
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - content_id: 16
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions count: 7
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=769, question='queasrajsdfian 1'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[1]: question_id=770, question='mult2'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[2]: question_id=771, question='tureiaj sffalllase'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[3]: question_id=772, question='fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[4]: question_id=773, question='text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[5]: question_id=774, question='essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 03:09:39 --> ðŸ” [CONTENT DETAIL] - questions[6]: question_id=775, question='uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 03:09:39 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:39 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:47 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 03:09:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:47 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:09:48 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:09:48 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
WARNING - 2025-12-04 03:09:59 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
WARNING - 2025-12-04 03:10:05 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
ERROR - 2025-12-04 03:10:05 --> mysqli_sql_exception: Can't DROP 'student_content_update_idx'; check that column/key exists in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('DROP INDEX `stu...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('DROP INDEX `stu...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('DROP INDEX `stu...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Forge.php(251): CodeIgniter\Database\BaseConnection->query('DROP INDEX `stu...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-10-27-022836_FinalizeStudentContentStructure.php(12): CodeIgniter\Database\MySQLi\Forge->dropKey('student_content', 'student_content...')
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\FinalizeStudentContentStructure->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-04 03:10:15 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
WARNING - 2025-12-04 03:10:20 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
WARNING - 2025-12-04 03:11:06 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
WARNING - 2025-12-04 03:11:12 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
ERROR - 2025-12-04 03:11:12 --> mysqli_sql_exception: Can't DROP 'student_content_update_idx'; check that column/key exists in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('DROP INDEX `stu...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('DROP INDEX `stu...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('DROP INDEX `stu...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Forge.php(251): CodeIgniter\Database\BaseConnection->query('DROP INDEX `stu...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-10-27-022836_FinalizeStudentContentStructure.php(12): CodeIgniter\Database\MySQLi\Forge->dropKey('student_content', 'student_content...')
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\FinalizeStudentContentStructure->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:14:48",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:14:48', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:14:48",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:14:48 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:14:48 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:14:48 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:14:48 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:19:48",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:19:48', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:19:48",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:19:48 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:19:48 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:19:48 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:19:48 --> âœ… [SUBMIT] Final status in response: 4
WARNING - 2025-12-04 03:21:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 03:21:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 03:21:20 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 03:21:20 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 03:21:20 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 03:21:20 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 03:21:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 03:21:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:24 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:21:25 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:24:48",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:24:48', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:24:48",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:24:48 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:24:48 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:24:48 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:24:48 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:25:51 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:25:51 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:25:53 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:26:16 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:26:16 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:26:18 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:26:18 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:26:19 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:26:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:26:19 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:27:10 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:10 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:27:12 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:12 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:13 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:13 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:14 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:27:14 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:27:14 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:27:14 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:27:14 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:27:15 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:15 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:16 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:16 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:27:42 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:42 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:27:44 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:27:44 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:27:45 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:27:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:27:45 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:32:44",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:32:44', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:32:44",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:32:44 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:32:44 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:32:44 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:32:44 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:37:26 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:37:31 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:37:44",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:37:44', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:37:44",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:37:44 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:37:44 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:37:44 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:37:44 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 03:39:40 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:39:40 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 03:39:41 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 03:40:10 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 03:40:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 03:40:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:44:41",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:44:41', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:44:41",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:44:41 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:44:41 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:44:41 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:44:41 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:49:40",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:49:40', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:49:40",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:49:40 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:49:40 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:49:40 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:49:40 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:54:40",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:54:40', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:54:40",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:54:40 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:54:40 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:54:40 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:54:40 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 03:59:40",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 03:59:40', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 03:59:40",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 03:59:40 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 03:59:40 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 03:59:40 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 03:59:40 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:00:08 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:08 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:00:43 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:00:43 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:00:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-04 04:00:44 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:00:44 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:01:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 04:01:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:01:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:02:27 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-04 04:02:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:02:27 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:02:38 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 04:02:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:38 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 04:02:45 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 04:02:45 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 04:02:45 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 04:02:45 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 04:02:45 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 04:02:45 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:02:45 --> Class list results count: 2
DEBUG - 2025-12-04 04:02:45 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 04:02:45 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 04:02:45 --> Class list params: {"platform":"web","type":3,"role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:02:45 --> Class list results count: 2
DEBUG - 2025-12-04 04:02:45 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:02:54 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:03:33 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:03:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:03:33 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:03:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-04 04:03:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:03:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:05:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:05:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:05:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:05:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:05:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:05:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:05:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:10:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:10:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:10:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:10:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:10:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:10:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:10:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:15:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:15:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:15:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:15:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:15:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:15:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:15:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:20:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:20:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:20:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:20:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:20:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:20:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:20:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:25:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:25:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:25:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:25:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:25:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:25:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:25:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:30:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:30:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:30:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:30:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:30:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:30:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:30:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:35:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:35:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:35:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:35:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:35:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:35:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:35:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:40:43",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:40:43', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:40:43",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:40:43 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:40:43 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:40:43 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:40:43 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:49:08 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:49:08 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:49:45 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:49:45 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token timestamp validation failed
WARNING - 2025-12-04 04:49:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:49:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 04:49:47 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 04:49:49 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 04:49:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:49:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:49:51 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 04:49:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:51 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-04 04:49:54 --> Model mailbox_model not found
ERROR - 2025-12-04 04:49:54 --> Model common_model not found
WARNING - 2025-12-04 04:49:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 04:49:54 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 04:49:54 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Route = student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token validated successfully for route: student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 04:49:54 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"5","user_id":"2488","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:54 --> ðŸ‘¤ Classes::curriculumList - isStudent: YES, studentId: 2488
DEBUG - 2025-12-04 04:49:54 --> ðŸ”’ [CLASSES] Applied student filtering for student_id: 2488
DEBUG - 2025-12-04 04:49:54 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
LEFT JOIN `student_class` `scs` ON `scs`.`class_id` = `cc`.`class_id` AND `scs`.`student_id` = 2488
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
AND   (
   (
`cc`.`all_student` = 1
AND `cc`.`end_date` >= '2025-12-04'
AND `scs`.`student_id` = '2488'
  )
OR    (
`cc`.`all_student` = 0
AND `sc`.`student_id` = '2488'
AND sc.id IS NOT NULL
  )
 )
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 04:49:54 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 04:49:54 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 04:49:54 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 04:49:54 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 04:49:54 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 04:49:54 --> ðŸ“¦ Classes::curriculumList fetched 9 row(s)
DEBUG - 2025-12-04 04:49:54 --> ðŸ“„ Classes::curriculumList sample row: {"id":"1","class_id":"1374","content_id":"1","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-11-24","end_date":"2026-01-31","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-11-24 04:48:02","modified_by":"2478","modified_date":"2025-11-24 13:49:45","sys_time":"2025-11-24 08:49:45","class_content_id":"1","content_name":"Sample File 1","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/7b811b655cc4d9.pdf\",\"image\":\"Sample_Question.pdf\",\"size\":21578,\"type\":\"application\\\/pdf\",\"original_name\":\"Sample_Question.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:54 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 04:49:54 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"5","user_id":"2488","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:54 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = ('1374')
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 04:49:54 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 04:49:57 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 04:49:57 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 04:49:59 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 04:49:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:49:59 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:50:00 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:50:00 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "4",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] status in request: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Status determination - Requested status: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:50:03",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:50:03', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:50:03",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:50:03 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:50:03 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:50:03 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:50:03 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 04:50:04 --> AuthFilter: Route = student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 04:50:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:04 --> AuthFilter: Token validated successfully for route: student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 04:50:08 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 04:50:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:08 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 04:50:09 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 04:50:09 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 04:55:09",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 04:55:09', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 04:55:09",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 04:55:09 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 04:55:09 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 04:55:09 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 04:55:09 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 05:00:09",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 05:00:09', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 05:00:09",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 05:00:09 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 05:00:09 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 05:00:09 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 05:00:09 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 05:00:58 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:00:58 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:00:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 05:00:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 05:00:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 05:23:33",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 05:23:33', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 05:23:33",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 05:23:33 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 05:23:33 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 05:23:33 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 05:23:33 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 05:26:44 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:44 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:26:46 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-04 05:26:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 05:26:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:28:19 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-04 05:28:19 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 05:28:19 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 05:28:21 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:28:21 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 05:47:22 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:47:22 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 05:47:23 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-04 05:47:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 05:47:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 05:52:22",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 05:52:22', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 05:52:22",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 05:52:22 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 05:52:22 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 05:52:22 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 05:52:22 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 05:57:22",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 05:57:22', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 05:57:22",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 05:57:22 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 05:57:22 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 05:57:22 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 05:57:22 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:02:21 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:02:22",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:02:22', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:02:22",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:02:22 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:02:22 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:02:22 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:02:22 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:03:47 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:03:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:03:47 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-04 06:03:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:03:47 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:03:48 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 06:03:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:03:48 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
WARNING - 2025-12-04 06:03:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:03:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:03:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:03:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:03:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:03:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:04:08 --> AuthFilter: Route = classes/zoomPermission/\App\Controllers\Classes::zoomPermission
DEBUG - 2025-12-04 06:04:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:04:08 --> AuthFilter: Token validated successfully for route: classes/zoomPermission/\App\Controllers\Classes::zoomPermission
DEBUG - 2025-12-04 06:04:35 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:04:35 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:04:35 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:04:35 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:04:35 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:04:35 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:04:35 --> Class list results count: 2
DEBUG - 2025-12-04 06:04:35 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:04:35 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:04:35 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:04:35 --> Class list results count: 2
DEBUG - 2025-12-04 06:04:35 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:13 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:13 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:13 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:13 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:13 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:13 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:13 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:13 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:13 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:13 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:13 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:13 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:18 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:18 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:18 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:18 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:18 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:18 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:05:18 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:05:18 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:05:18 --> ðŸ“¦ Classes::curriculumList fetched 1 row(s)
DEBUG - 2025-12-04 06:05:18 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:05:22 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:22 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:22 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:22 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:22 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:22 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:22 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:22 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:22 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:22 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:22 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:22 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:23 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:23 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:05:23 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:23 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:05:23 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:05:23 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:05:23 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Route = classes/removeStudent/\App\Controllers\Classes::removeStudent
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token validated successfully for route: classes/removeStudent/\App\Controllers\Classes::removeStudent
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:05:35 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:35 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:05:35 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:05:35 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:05:35 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:05:35 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:35 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:05:36 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 06:05:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:05:36 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-04 06:05:57 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:57 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:57 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:05:57 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:05:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:57 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:05:57 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:05:57 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:57 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:05:57 --> Class list results count: 2
DEBUG - 2025-12-04 06:05:57 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:06:00 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:00 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 06:06:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:06:00 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:06:00 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:00 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:03 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:03 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:03 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:03 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:03 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:06:03 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:03 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:06:03 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:03 --> Class list results count: 2
DEBUG - 2025-12-04 06:06:03 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:06:03 --> Class list results count: 2
DEBUG - 2025-12-04 06:06:03 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:06:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:08 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:06:08 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:08 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:08 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:06:08 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:08 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:06:08 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:06:08 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:08 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Route = classes/removeStudent/\App\Controllers\Classes::removeStudent
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token validated successfully for route: classes/removeStudent/\App\Controllers\Classes::removeStudent
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:14 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:06:14 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:06:14 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:06:14 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:06:14 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:14 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:06:14 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:06:16 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:16 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:16 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:06:16 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:06:16 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:06:16 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:16 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:06:16 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:06:16 --> Class list results count: 2
DEBUG - 2025-12-04 06:06:16 --> Class list results count: 2
DEBUG - 2025-12-04 06:06:16 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:06:16 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:07:21",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:07:21', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:07:21",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:07:21 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:07:21 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:07:21 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:07:21 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:07:57 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:07:57 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:07:57 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:07:57 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:07:57 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:07:57 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:07:57 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:07:57 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:07:57 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:07:57 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Route = report/classPerformanceList/\App\Controllers\Report::classPerformanceList
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token validated successfully for route: report/classPerformanceList/\App\Controllers\Report::classPerformanceList
DEBUG - 2025-12-04 06:08:10 --> checkPermission: Token from getHeaderLine: eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:10 --> checkPermission: Validating token for user_id: 2478, controller: report/classPerformanceList
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Route = report/studentPerformanceList/\App\Controllers\Report::studentPerformanceList_post
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token validated successfully for route: report/studentPerformanceList/\App\Controllers\Report::studentPerformanceList_post
DEBUG - 2025-12-04 06:08:10 --> checkPermission: Token from getHeaderLine: eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:10 --> checkPermission: Validating token for user_id: 2478, controller: report/studentPerformanceList
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Route = report/studentPerformanceContent/\App\Controllers\Report::studentPerformanceContent
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:10 --> AuthFilter: Token validated successfully for route: report/studentPerformanceContent/\App\Controllers\Report::studentPerformanceContent
DEBUG - 2025-12-04 06:08:13 --> ðŸ“‹ Content::testType called with params: {"platform":"web","role_id":"2","user_id":"2478","timezone":"America\/New_York"}
ERROR - 2025-12-04 06:08:13 --> mysqli_sql_exception: Table 'edquill_production.test_type' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT test_typ...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT test_typ...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT test_typ...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(189): CodeIgniter\Database\BaseConnection->query('SELECT test_typ...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(64): App\Models\V1\ContentModel->getTestTypes(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->testType()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 06:08:13 --> ContentModel::getTestTypes error: Table 'edquill_production.test_type' doesn't exist
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Route = student/completedCfsContent/\App\Controllers\Student::completedCfsContent
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Token validated successfully for route: student/completedCfsContent/\App\Controllers\Student::completedCfsContent
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Route = student/cfsReport/\App\Controllers\Student::cfsReport
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:08:13 --> AuthFilter: Token validated successfully for route: student/cfsReport/\App\Controllers\Student::cfsReport
DEBUG - 2025-12-04 06:08:17 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:08:17 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:08:18 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:08:18 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:08:18 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:08:18 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:08:18 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:08:18 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:08:18 --> Class list results count: 2
DEBUG - 2025-12-04 06:08:18 --> Class list results count: 2
DEBUG - 2025-12-04 06:08:18 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:08:18 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:10:00 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:10:00 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:10:00 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:10:00 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:10:01 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:10:01 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:10:01 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:10:01 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:01 --> Class list results count: 2
DEBUG - 2025-12-04 06:10:01 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:10:01 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:10:01 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:01 --> Class list results count: 2
DEBUG - 2025-12-04 06:10:01 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:10:10 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:10:10 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:10:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:10:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:10:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:10:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:10:11 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:10:11 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:11 --> Class list results count: 2
DEBUG - 2025-12-04 06:10:11 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:10:11 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:10:11 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:10:11 --> Class list results count: 2
DEBUG - 2025-12-04 06:10:11 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:14:35 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:14:35 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:14:36 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:14:36 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:14:36 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:14:36 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:14:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:14:36 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:14:36 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:36 --> Class list results count: 2
DEBUG - 2025-12-04 06:14:36 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:14:36 --> Class list results count: 2
DEBUG - 2025-12-04 06:14:36 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:14:54 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:14:55 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:14:55 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:14:55 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:14:56 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:14:56 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:14:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:14:56 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:56 --> Class list results count: 2
DEBUG - 2025-12-04 06:14:56 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:14:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:14:56 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:14:56 --> Class list results count: 2
DEBUG - 2025-12-04 06:14:56 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:15:02 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:15:02 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:15:03 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:03 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:03 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:03 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:03 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:03 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:03 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:03 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:03 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:03 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:03 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:03 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:39 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:39 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:15:39 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:15:39 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:39 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:39 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1374","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:39 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:15:39 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1374'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=5, content_name=New Resources Added, all_student=0, individual_students=Ravi Kumaresh, individual_count=1
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=5
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] student_ids in student_content: ["2480"]
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] Student names from user_profile: ["Ravi Kumaresh"]
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 06:15:39 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 06:15:39 --> ðŸ“¦ Classes::curriculumList fetched 11 row(s)
DEBUG - 2025-12-04 06:15:39 --> ðŸ“„ Classes::curriculumList sample row: {"id":"11","class_id":"1374","content_id":"20","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"0000-00-00","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"1","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 14:56:31","modified_by":"2478","modified_date":"2025-12-02 14:56:31","sys_time":"2025-12-02 09:56:31","class_content_id":"11","content_name":"book","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/66e1dcdf77425e.pdf\",\"image\":\"English Course Syllabus.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:15:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:40 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:40 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:40 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:40 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:40 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:40 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:42 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:42 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":2,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:42 --> Class list results count: 0
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:15:53 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:53 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:53 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:15:53 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:15:53 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:53 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:53 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:53 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:15:53 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:53 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:15:54 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:15:54 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:15:54 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:15:54 --> ðŸ“¦ Classes::curriculumList fetched 1 row(s)
DEBUG - 2025-12-04 06:15:54 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:15:55 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:55 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:55 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:15:55 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:15:55 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:55 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:55 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:55 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:55 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:55 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:55 --> Class list results count: 2
DEBUG - 2025-12-04 06:15:55 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:15:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:15:57 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":2,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:15:57 --> Class list results count: 0
DEBUG - 2025-12-04 06:16:55 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 06:16:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:16:55 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
WARNING - 2025-12-04 06:16:55 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:16:55 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:16:55 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:16:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:16:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:16:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:16:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:16:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:16:59 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:16:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:16:59 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:16:59 --> Class list results count: 2
DEBUG - 2025-12-04 06:16:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:16:59 --> Class list results count: 2
DEBUG - 2025-12-04 06:16:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:17:07 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:17:07 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:17:07 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:17:07 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:17:07 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:07 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:17:07 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:17:07 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:17:07 --> ðŸ“¦ Classes::curriculumList fetched 1 row(s)
DEBUG - 2025-12-04 06:17:07 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:17:13 --> ðŸ“‹ Content::list called with params: {"platform":"web","type":"list","role_id":"2","user_id":"2478","school_id":"59","search":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Route = content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token validated successfully for route: content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:17:28 --> ðŸ” [CONTENT ADD] Received params: {"platform":"web","role_id":"2","user_id":"2478","assign":"1","school_id":"59","classdetails":[{"content_id":"24","class_id":"1377","start_date":"2025-12-03","end_date":"2025-12-12","start_time":"","end_time":"","all_student":"1","student_id":"","batch_id":"","release_score":"0","auto_review":"0","notes":"","download":"0","allow_feedback":"0","show_timer":"0","allow_workspace":"0","topic_id":""}],"classroomDetails":[{"content_id":"24","batch_id":["1293","1294"],"start_date":"","end_date":"","start_time":"","end_time":""}],"editor_type":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:17:28 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:17:28 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:28 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:17:28 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:17:28 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:17:28 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:17:28 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:17:28 --> ðŸ“¦ Classes::curriculumList fetched 2 row(s)
DEBUG - 2025-12-04 06:17:28 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Route = content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token validated successfully for route: content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:18:17 --> ðŸ” [CONTENT ADD] Received params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","name":"Youtube Link","description":"This a new class resource link","grade":["603"],"subject":["401"],"access":"1","file_path":[],"tags":[],"profile_url":"","profile_thumb_url":"","content_format":"2","content_type":"1","status":"1","answers":[],"file_text":"","links":[{"name":"Youtube Link","link":"youtube.com\/","description":"This a new class resource link"}],"annotation":[],"assign":"0","classdetails":[],"editor_type":"","download":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:18:17 --> ðŸ” [CONTENT ADD] Final data after cleanup: {"name":"Youtube Link","description":"This a new class resource link","school_id":"59","grade":"603","subject":"401","tags":"","content_type":"1","content_format":"2","editor_type":"","file_path":"","answerkey_path":"","teacher_version":"","allow_answer_key":0,"links":"[{\"name\":\"Youtube Link\",\"link\":\"youtube.com\\\/\",\"description\":\"This a new class resource link\"}]","file_text":"","download":"0","access":"1","status":"1","content_duration":0,"annotation":"","questionAnnotation":"","created_by":"2478","created_date":"2025-12-04 06:18:17"}
DEBUG - 2025-12-04 06:18:17 --> ðŸ” [CONTENT ADD] Prepared data for insert: {"name":"Youtube Link","description":"This a new class resource link","school_id":"59","grade":"603","subject":"401","tags":"","content_type":"1","content_format":"2","editor_type":"","file_path":"","answerkey_path":"","teacher_version":"","allow_answer_key":0,"links":"[{\"name\":\"Youtube Link\",\"link\":\"youtube.com\\\/\",\"description\":\"This a new class resource link\"}]","file_text":"","download":"0","access":"1","status":"1","content_duration":0,"annotation":"","questionAnnotation":"","created_by":"2478","created_date":"2025-12-04 06:18:17","profile_url":"","profile_thumb_url":""}
DEBUG - 2025-12-04 06:18:17 --> ðŸ” [CONTENT ADD] Insert successful, content_id: 25
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Route = content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token validated successfully for route: content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:18:17 --> ðŸ” [CONTENT ADD] Received params: {"platform":"web","role_id":"2","user_id":"2478","assign":"1","school_id":"59","classdetails":[{"content_id":"25","class_id":"1377","start_date":"2025-12-03","end_date":"2025-12-11","start_time":"","end_time":"","all_student":"1","student_id":"","batch_id":"","release_score":"0","auto_review":"0","notes":"","download":"0","allow_feedback":"0","show_timer":"0","allow_workspace":"0","topic_id":""}],"classroomDetails":[{"content_id":"25","batch_id":["1293","1294"],"start_date":"","end_date":"","start_time":"","end_time":""}],"editor_type":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:18:17 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:18:17 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:18:17 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:18:17 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:18:17 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:18:17 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:18:17 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:18:17 --> ðŸ“¦ Classes::curriculumList fetched 3 row(s)
DEBUG - 2025-12-04 06:18:17 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Route = content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token validated successfully for route: content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:19:09 --> ðŸ” [CONTENT ADD] Received params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","name":"New PDF File upload","description":"PDF upload","grade":["603"],"subject":["401"],"access":"1","file_path":[{"original_image_url":"uploads\/content\/a92061cbbec773.jpg","image":"PHFrontFull.jpg","size":2027762,"type":"image\/jpeg","original_name":"PHFrontFull.jpg","extension":"jpg","links":[]}],"tags":[],"profile_url":"","profile_thumb_url":"","content_format":"1","content_type":"3","batch_id":["1297"],"status":"1","answers":[],"file_text":"","links":[],"annotation":[],"assign":"0","classdetails":[],"editor_type":"","download":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:19:09 --> ðŸ” [CONTENT ADD] Final data after cleanup: {"name":"New PDF File upload","description":"PDF upload","school_id":"59","grade":"603","subject":"401","tags":"","content_type":"3","content_format":"1","editor_type":"","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/a92061cbbec773.jpg\",\"image\":\"PHFrontFull.jpg\",\"size\":2027762,\"type\":\"image\\\/jpeg\",\"original_name\":\"PHFrontFull.jpg\",\"extension\":\"jpg\",\"links\":[]}]","answerkey_path":"","teacher_version":"","allow_answer_key":0,"links":"","file_text":"","download":"0","access":"1","status":"1","content_duration":0,"annotation":"","questionAnnotation":"","created_by":"2478","created_date":"2025-12-04 06:19:09"}
DEBUG - 2025-12-04 06:19:09 --> ðŸ” [CONTENT ADD] Prepared data for insert: {"name":"New PDF File upload","description":"PDF upload","school_id":"59","grade":"603","subject":"401","tags":"","content_type":"3","content_format":"1","editor_type":"","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/a92061cbbec773.jpg\",\"image\":\"PHFrontFull.jpg\",\"size\":2027762,\"type\":\"image\\\/jpeg\",\"original_name\":\"PHFrontFull.jpg\",\"extension\":\"jpg\",\"links\":[]}]","answerkey_path":"","teacher_version":"","allow_answer_key":0,"links":"","file_text":"","download":"0","access":"1","status":"1","content_duration":0,"annotation":"","questionAnnotation":"","created_by":"2478","created_date":"2025-12-04 06:19:09","profile_url":"","profile_thumb_url":""}
DEBUG - 2025-12-04 06:19:09 --> ðŸ” [CONTENT ADD] Insert successful, content_id: 26
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Route = content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token validated successfully for route: content/add/\App\Controllers\Content::add
DEBUG - 2025-12-04 06:19:09 --> ðŸ” [CONTENT ADD] Received params: {"platform":"web","role_id":"2","user_id":"2478","assign":"1","school_id":"59","classdetails":[{"content_id":"26","class_id":"1377","start_date":"2025-12-03","end_date":"2025-12-26","start_time":"","end_time":"","all_student":"1","student_id":"","batch_id":"","release_score":"0","auto_review":"0","notes":"","download":"0","allow_feedback":"0","show_timer":"0","allow_workspace":"0","topic_id":""}],"classroomDetails":[{"content_id":"26","batch_id":["1293","1294"],"start_date":"","end_date":"","start_time":"","end_time":""}],"editor_type":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:19:09 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:19:09 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:19:09 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:19:09 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:19:09 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:19:09 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:19:09 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:19:09 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:19:09 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:20:02",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:20:02', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:20:02",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:20:02 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:20:02 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:20:02 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:20:02 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:20:17 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:17 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:20:17 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:20:17 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:20:17 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:17 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:20:17 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:17 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:20:17 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:20:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:23 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:23 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:23 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:23 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:23 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:23 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:23 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:23 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:23 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:23 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:20:35 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:35 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:36 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:36 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:36 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:36 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:36 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:36 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:36 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:36 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:36 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:36 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:20:37 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:37 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:38 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:38 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:38 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:38 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:38 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:38 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:38 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:38 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:38 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:38 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:20:39 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:20:39 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:20:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:40 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:40 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:40 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:40 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:40 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:40 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:40 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:40 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:59 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:20:59 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:20:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:59 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:59 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:20:59 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:20:59 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:20:59 --> Class list results count: 2
DEBUG - 2025-12-04 06:20:59 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:21:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:21:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:21:11 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:21:11 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:11 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:11 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:21:11 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:21:11 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:11 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:21:11 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:21:14 --> ðŸ“‹ Content::list called with params: {"platform":"web","type":"list","role_id":"2","user_id":"2478","school_id":"59","search":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:21:42 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:42 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:21:42 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:21:42 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:21:42 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:21:42 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:21:42 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:42 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:21:42 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:21:46 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:46 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:46 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:46 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:46 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:21:46 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:46 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:21:46 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:46 --> Class list results count: 2
DEBUG - 2025-12-04 06:21:46 --> Class list results count: 2
DEBUG - 2025-12-04 06:21:46 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:21:46 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:21:52 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
WARNING - 2025-12-04 06:21:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:21:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:21:52 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:52 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:52 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:54 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:54 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:54 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:21:54 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:21:54 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:21:54 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:54 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:21:54 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:21:54 --> Class list results count: 2
DEBUG - 2025-12-04 06:21:54 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:21:54 --> Class list results count: 2
DEBUG - 2025-12-04 06:21:54 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:00 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-12-04 06:22:00 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:22:00 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:22:00 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:22:00 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","class_id":["1377"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:00 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:00 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¦ Classes::getClassNotes fetched 3 notes
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:22:00 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:22:00 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:22:00 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:22:02 --> ðŸ“‹ Content::list called with params: {"platform":"web","type":"list","role_id":"2","user_id":"2478","school_id":"59","search":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:30 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:30 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:30 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:30 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:22:30 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:22:30 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:22:30 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:22:31 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:31 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:31 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:31 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:22:31 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:22:38 --> ðŸ“‹ Content::testType called with params: {"platform":"web","role_id":"2","user_id":"2478","timezone":"America\/New_York"}
ERROR - 2025-12-04 06:22:38 --> mysqli_sql_exception: Table 'edquill_production.test_type' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT test_typ...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT test_typ...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT test_typ...')
#3 /Applications/MAMP/htdocs/rista_ci4/app/Models/V1/ContentModel.php(189): CodeIgniter\Database\BaseConnection->query('SELECT test_typ...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(64): App\Models\V1\ContentModel->getTestTypes(Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->testType()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
ERROR - 2025-12-04 06:22:38 --> ContentModel::getTestTypes error: Table 'edquill_production.test_type' doesn't exist
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Route = student/completedCfsContent/\App\Controllers\Student::completedCfsContent
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Token validated successfully for route: student/completedCfsContent/\App\Controllers\Student::completedCfsContent
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Route = student/cfsReport/\App\Controllers\Student::cfsReport
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:38 --> AuthFilter: Token validated successfully for route: student/cfsReport/\App\Controllers\Student::cfsReport
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:39 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:39 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:22:39 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:22:39 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:22:39 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:39 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:39 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:39 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:22:39 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:22:48 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:22:48 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:22:48 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:22:48 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:22:48 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:22:48 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:48 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-04'
AND `c`.`end_date` >= '2025-12-04'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:22:48 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:48 --> Class list results count: 2
DEBUG - 2025-12-04 06:22:48 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:22:48 --> Class list results count: 2
DEBUG - 2025-12-04 06:22:48 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 06:22:51 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"2","role_id":"2","user_id":"2478","class_id":"1377","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:51 --> ðŸ‘¤ Classes::curriculumList - isStudent: NO, studentId: N/A
DEBUG - 2025-12-04 06:22:51 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1377'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 06:22:51 --> ðŸ“¦ Classes::curriculumList fetched 4 row(s)
DEBUG - 2025-12-04 06:22:51 --> ðŸ“„ Classes::curriculumList sample row: {"id":"12","class_id":"1377","content_id":"19","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-12-01","end_date":"0000-00-00","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-12-02 16:56:38","modified_by":"2478","modified_date":"2025-12-02 16:56:38","sys_time":"2025-12-02 11:56:38","class_content_id":"12","content_name":"English Course Syllabus111","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/9ce3ee74052bd4.pdf\",\"image\":\"English Course Syllabus111.pdf\",\"size\":340481,\"type\":\"application\\\/pdf\",\"original_name\":\"English Course Syllabus.pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"3","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:22:51 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 06:22:51 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"2478","class_id":"1377","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:22:51 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1377'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 06:22:51 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 06:23:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:23:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:23:21 --> Class list results count: 2
DEBUG - 2025-12-04 06:23:21 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:23:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-04 06:23:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:23:21 --> Class list results count: 2
DEBUG - 2025-12-04 06:23:21 --> First class: {"class_id":"1377","class_name":"Spanish Class","subject":"401","grade":"603","start_date":"2025-12-02","end_date":"2026-02-28","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9BCB006D","batch_id":"1293,1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","course_id":"62","course_name":"Spanish Program","subject_name":"Spanish","grade_name":"Intermediate","no_of_students":"0","teacher_ids":"2489","teacher_name":"Spanish Teacher"}
DEBUG - 2025-12-04 06:23:21 --> ðŸ” ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-04 06:23:21 --> âœ… ClassesModel::getTeacherList found 2 teachers for school_id: 59
DEBUG - 2025-12-04 06:23:21 --> ðŸ” PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-12-04 06:23:21 --> ðŸ” PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:23:21 --> ðŸ” PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-12-04 06:23:21 --> ðŸ“¦ PAGINATION - Backend returning 10 records
DEBUG - 2025-12-04 06:23:21 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-04 06:23:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:23:21 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:25:39",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:25:39', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:25:39",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:25:39 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:25:39 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:25:39 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:25:39 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:30:39",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:30:39', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:30:39",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:30:39 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:30:39 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:30:39 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:30:39 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:35:39",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:35:39', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:35:39",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:35:39 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:35:39 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:35:39 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:35:39 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:38:30 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:30 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
WARNING - 2025-12-04 06:38:31 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:38:31 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:38:31 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:38:34 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:38:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:34 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:38:36 --> AuthFilter: Route = mailbox/getMessageCount/\App\Controllers\MailboxCI4::getMessageCount
DEBUG - 2025-12-04 06:38:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:36 --> AuthFilter: Token validated successfully for route: mailbox/getMessageCount/\App\Controllers\MailboxCI4::getMessageCount
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 06:38:37 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 06:38:37 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Route = student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Token validated successfully for route: student/assessmentList/\App\Controllers\Student::assessmentList
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Route = student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:38 --> AuthFilter: Token validated successfully for route: student/assignmentList/\App\Controllers\Student::assignmentList
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Route = school/studentGradeList/\App\Controllers\School::studentGradeList
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Token validated successfully for route: school/studentGradeList/\App\Controllers\School::studentGradeList
WARNING - 2025-12-04 06:38:39 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:38:39 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Route = report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:39 --> AuthFilter: Token validated successfully for route: report/reportCard/\App\Controllers\Report::reportCard_post
DEBUG - 2025-12-04 06:38:39 --> checkPermission: Token from getHeaderLine: eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:39 --> checkPermission: Validating token for user_id: 2488, controller: report/reportCard
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Route = api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/payment-methods/\App\Controllers\Api\PaymentController::getStudentMethods/$1/$2
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-04 06:38:43 --> AuthFilter: Token validated successfully for route: api/schools/([0-9]+)/students/([0-9]+)/transactions/\App\Controllers\Api\PaymentController::getStudentTransactions/$1/$2
DEBUG - 2025-12-04 06:38:43 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 06:38:43 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59,"limit":100,"offset":0}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 06:38:43 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 06:38:43 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-04 06:38:43 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59}. Total transactions in DB for this student: 0
DEBUG - 2025-12-04 06:38:43 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-04 06:38:43 --> Custom Items Calculation - Student: 2488, School: 59, Date: 2025-12-04, Total: 0.00
INFO - 2025-12-04 06:38:43 --> Balance Calculation (TODAY) - Student: 2488 | Expected Fees (Today): 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
INFO - 2025-12-04 06:38:43 --> Balance Calculation - Included Assignments: [{"id":"50","start_date":"2025-12-03","end_date":null,"enrollment_date":"2025-12-01","amount":300},{"id":"48","start_date":"2025-11-24","end_date":null,"enrollment_date":"2025-11-24","amount":500}] | Total Invoiced: 650.00 (NOT USED), Expected Fees: 800.00, Custom Items: 0.00, Total Billing: 800.00, Paid: 0.00, Balance: 800.00
DEBUG - 2025-12-04 06:38:44 --> AuthFilter: Route = student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 06:38:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:44 --> AuthFilter: Token validated successfully for route: student/myCourses/\App\Controllers\Student::myCourses
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:38:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 06:38:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:38:46 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:39:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "3",
    "content_format": "1",
    "student_content_id": 6,
    "class_id": "1374",
    "overall_student_feedback": "good",
    "status": "2",
    "upload_answer": [],
    "answers": [],
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] content_format: 1
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] status in request: 2
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] has answers: YES (0)
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] has questions: NO
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Status determination - Requested status: 2
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Current status: 4, redo_test: 0, requested status: 2
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Updating student_content table
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] student_content_id: 6
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "good",
    "upload_answer": "",
    "answer_completed_date": "2025-12-04 06:40:39",
    "platform": 1,
    "laq_id": 0,
    "content_time_taken": 0
}
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = 'good', upload_answer = '', answer_completed_date = '2025-12-04 06:40:39', platform = 1, laq_id = 0, content_time_taken = 0 WHERE id = 6
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-04 06:40:39",
    "content_time_taken": "0",
    "platform": "1"
}
DEBUG - 2025-12-04 06:40:39 --> âœ… [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-04 06:40:39 --> ðŸ” [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 6
                    
DEBUG - 2025-12-04 06:40:39 --> âœ… [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-04 06:40:39 --> âœ… [SUBMIT] Final status in response: 4
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:40:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 06:41:32 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 06:41:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:41:32 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":6,"class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 06:41:35 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 06:41:35 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 06:41:35 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 06:41:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:41:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
ERROR - 2025-12-04 06:41:35 --> AuthFilter: Token not active in database. Status = 0
ERROR - 2025-12-04 06:41:35 --> AuthFilter: Token not active in database. Status = 0
CRITICAL - 2025-12-04 06:41:37 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:41:37 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:41:37 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:41:45 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/request-types]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:41:46 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/documents]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:22 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:22 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:22 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:49 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:49 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:49 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:54 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:54 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:42:54 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:43:12 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:43:12 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:43:12 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 06:45:04 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
WARNING - 2025-12-04 06:46:13 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
ERROR - 2025-12-04 06:46:13 --> mysqli_sql_exception: Table 'student_assign_content' already exists in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('CREATE TABLE `s...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('CREATE TABLE `s...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('CREATE TABLE `s...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/Forge.php(570): CodeIgniter\Database\BaseConnection->query('CREATE TABLE `s...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-10-30-000000_CreateStudentAssignContentTable.php(91): CodeIgniter\Database\Forge->createTable('student_assign_...')
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\CreateStudentAssignContentTable->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-04 06:46:28 --> [DEPRECATED] App\Models\BillingInvoiceModel::getOverdue(): Implicitly marking parameter $asOfDate as nullable is deprecated, the explicit nullable type must be used instead in APPPATH/Models/BillingInvoiceModel.php on line 190.
 1 VENDORPATH/composer/ClassLoader.php(576): include('/Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Debug/Exceptions.php')
 2 VENDORPATH/composer/ClassLoader.php(427): {closure:Composer\Autoload\ClassLoader::initializeIncludeClosure():575}('/Applications/MAMP/htdocs/rista_ci4/vendor/composer/../../app/Models/BillingInvoiceModel.php')
 3 APPPATH/Services/Billing/SubscriptionService.php(18): Composer\Autoload\ClassLoader->loadClass('App\\Models\\BillingInvoiceModel')
 4 APPPATH/Commands/BillingDaily.php(34): App\Services\Billing\SubscriptionService->__construct()
 5 SYSTEMPATH/CLI/Commands.php(126): App\Commands\BillingDaily->__construct(Object(CodeIgniter\Log\Logger), Object(CodeIgniter\CLI\Commands))
 6 SYSTEMPATH/CLI/Commands.php(49): CodeIgniter\CLI\Commands->discoverCommands()
 7 SYSTEMPATH/Config/Services.php(178): CodeIgniter\CLI\Commands->__construct()
 8 SYSTEMPATH/Config/BaseService.php(312): CodeIgniter\Config\Services::commands(false)
 9 SYSTEMPATH/Config/BaseService.php(251): CodeIgniter\Config\BaseService::__callStatic('commands', [...])
10 SYSTEMPATH/Config/Services.php(175): CodeIgniter\Config\BaseService::getSharedInstance('commands')
11 SYSTEMPATH/Config/BaseService.php(321): CodeIgniter\Config\Services::commands()
12 SYSTEMPATH/CLI/Console.php(43): CodeIgniter\Config\BaseService::__callStatic('commands', [])
13 SYSTEMPATH/Boot.php(360): CodeIgniter\CLI\Console->run()
14 SYSTEMPATH/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
15 ROOTPATH/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
ERROR - 2025-12-04 06:46:28 --> mysqli_sql_exception: Duplicate column name 'modified_date' in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('ALTER TABLE `us...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('ALTER TABLE `us...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('ALTER TABLE `us...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/Forge.php(772): CodeIgniter\Database\BaseConnection->query('ALTER TABLE `us...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-10-30-100000_AddModifiedDateToUserToken.php(12): CodeIgniter\Database\Forge->addColumn('user_token', Array)
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\AddModifiedDateToUserToken->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
CRITICAL - 2025-12-04 06:47:40 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:47:46 --> CodeIgniter\Filters\Exceptions\FilterException: "jwtauth" filter must have a matching alias defined.
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Filters/Filters.php on line 590.
 1 SYSTEMPATH/Filters/Filters.php(590): CodeIgniter\Filters\Exceptions\FilterException::forNoAlias('jwtauth')
 2 SYSTEMPATH/Filters/Filters.php(641): CodeIgniter\Filters\Filters->enableFilter('jwtauth', 'before')
 3 SYSTEMPATH/CodeIgniter.php(467): CodeIgniter\Filters\Filters->enableFilters([...], 'before')
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:48:23 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:48:23 --> AuthFilter: Token = EMPTY
ERROR - 2025-12-04 06:48:23 --> AuthFilter: No access token provided for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:47 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:56:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:56:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:47 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/AbsenceRequestService.php(125): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(170): App\Services\StudentPortal\AbsenceRequestService->listAbsenceRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listAbsenceRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:56:47 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/ProfileChangeService.php(128): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(100): App\Services\StudentPortal\ProfileChangeService->listProfileChangeRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listProfileChangeRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:56:47 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/SpecialRequestService.php(155): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(257): App\Services\StudentPortal\SpecialRequestService->listSpecialRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listSpecialRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:53 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:53 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/ProfileChangeService.php(128): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(100): App\Services\StudentPortal\ProfileChangeService->listProfileChangeRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listProfileChangeRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:56:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:53 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/SpecialRequestService.php(155): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(257): App\Services\StudentPortal\SpecialRequestService->listSpecialRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listSpecialRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:56:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:53 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/AbsenceRequestService.php(125): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(170): App\Services\StudentPortal\AbsenceRequestService->listAbsenceRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listAbsenceRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:56:54 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:56:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:54 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/special-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/SpecialRequestService.php(155): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(257): App\Services\StudentPortal\SpecialRequestService->listSpecialRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listSpecialRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:56:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:56:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 06:56:54 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/absence-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/AbsenceRequestService.php(125): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(170): App\Services\StudentPortal\AbsenceRequestService->listAbsenceRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listAbsenceRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 06:56:54 --> TypeError: CodeIgniter\Database\BaseBuilder::limit(): Argument #1 ($value) must be of type ?int, string given, called in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php on line 928
[Method: GET, Route: api/student-portal/profile/change-requests]
in SYSTEMPATH/Database/BaseBuilder.php on line 1514.
 1 SYSTEMPATH/Model.php(928): CodeIgniter\Database\BaseBuilder->limit('100', 0)
 2 APPPATH/Services/StudentPortal/ProfileChangeService.php(128): CodeIgniter\Model->__call('limit', [...])
 3 APPPATH/Controllers/StudentPortalAPI.php(100): App\Services\StudentPortal\ProfileChangeService->listProfileChangeRequests([...])
 4 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listProfileChangeRequests()
 5 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 6 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 06:59:50 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 06:59:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:59:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:59:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 06:59:53 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 06:59:53 --> AuthFilter: Token = EMPTY
ERROR - 2025-12-04 06:59:53 --> AuthFilter: No access token provided for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 07:00:06 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 07:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:00:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:00:20 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:20 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:00:26 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:00:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:26 --> AuthFilter: Token validated successfully for route: api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:00:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 07:00:26 --> TypeError: App\Services\StudentPortal\DocumentService::listDocuments(): Argument #1 ($studentId) must be of type int, null given, called in /Applications/MAMP/htdocs/rista_ci4/app/Controllers/StudentPortalAPI.php on line 378
[Method: GET, Route: api/student-portal/documents]
in APPPATH/Services/StudentPortal/DocumentService.php on line 144.
 1 APPPATH/Controllers/StudentPortalAPI.php(378): App\Services\StudentPortal\DocumentService->listDocuments(null, '59', [...])
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listDocuments()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 07:00:41 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:00:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:41 --> AuthFilter: Token validated successfully for route: api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:00:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 07:00:41 --> TypeError: App\Services\StudentPortal\DocumentService::listDocuments(): Argument #1 ($studentId) must be of type int, null given, called in /Applications/MAMP/htdocs/rista_ci4/app/Controllers/StudentPortalAPI.php on line 378
[Method: GET, Route: api/student-portal/documents]
in APPPATH/Services/StudentPortal/DocumentService.php on line 144.
 1 APPPATH/Controllers/StudentPortalAPI.php(378): App\Services\StudentPortal\DocumentService->listDocuments(null, '59', [...])
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listDocuments()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 07:00:49 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:49 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:00:53 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:00:53 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:00:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 07:02:12 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 07:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:18 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:18 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:26 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:26 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:44 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:44 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:02:57 --> AuthFilter: Route = api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:02:57 --> AuthFilter: Token validated successfully for route: api/student-portal/request-types/\App\Controllers\StudentPortalAPI::getRequestTypes
DEBUG - 2025-12-04 07:02:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 07:03:16 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:03:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:03:16 --> AuthFilter: Token validated successfully for route: api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:03:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 07:03:16 --> TypeError: App\Services\StudentPortal\DocumentService::listDocuments(): Argument #1 ($studentId) must be of type int, null given, called in /Applications/MAMP/htdocs/rista_ci4/app/Controllers/StudentPortalAPI.php on line 378
[Method: GET, Route: api/student-portal/documents]
in APPPATH/Services/StudentPortal/DocumentService.php on line 144.
 1 APPPATH/Controllers/StudentPortalAPI.php(378): App\Services\StudentPortal\DocumentService->listDocuments(null, '59', [...])
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->listDocuments()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 07:14:59 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:14:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 07:14:59 --> AuthFilter: Token validated successfully for route: api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 07:14:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Route = api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:44:51 --> AuthFilter: Token validated successfully for route: api/student-portal/documents/\App\Controllers\StudentPortalAPI::listDocuments
DEBUG - 2025-12-04 14:44:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:52 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:54:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:54:52 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 3
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 6) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 6),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=3 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 6 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '3' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Content ID: 3
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"3","content_format":"1","class_id":"1374","student_content_id":"6","class_content_id":"4","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] - content_id: 3
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 14:54:55 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 14:54:55 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:57 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:54:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:54:57 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 19
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '19' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Content ID: 19
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"19","content_format":"1","class_id":"1374","student_content_id":"0","class_content_id":"10","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:54:57 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:54:58 --> âœ… [CONTENT DETAIL] Created new student_content_id: 9
DEBUG - 2025-12-04 14:54:58 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:54:58 --> ðŸ” [CONTENT DETAIL] - content_id: 19
DEBUG - 2025-12-04 14:54:58 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 14:54:58 --> ðŸ” [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-04 14:54:58 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Route = user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Token validated successfully for route: user/checkDetails/\App\Controllers\User::checkDetails
DEBUG - 2025-12-04 14:54:58 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:54:59 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:54:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:54:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Route = student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token validated successfully for route: student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1292"
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 16
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 7) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 7),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=16 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '16' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Content ID: 16
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"16","content_format":"3","class_id":"1374","student_content_id":7,"class_content_id":"8","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '16'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Content ID: 16
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 7
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 769
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 0
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 1
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'queasrajsdfian 1'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 16
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): queasrajsdfian 1
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #1:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 770
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 1
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 2
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'mult2'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 5
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): mult2
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #2:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 771
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 2
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 3
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'tureiaj sffalllase'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 18
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): tureiaj sffalllase
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #3:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 772
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 3
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 4
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 66
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #4:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 773
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 4
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 10
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 40
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): text entry short answfe roijaowerjq u=es
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #5:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 774
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 5
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 20
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 32
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): essay long rich textlasjdflasjef
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Question #6:
DEBUG - 2025-12-04 14:55:01 -->    - question_id: 775
DEBUG - 2025-12-04 14:55:01 -->    - question_no: 6
DEBUG - 2025-12-04 14:55:01 -->    - question_type_id: 50
DEBUG - 2025-12-04 14:55:01 -->    - question (RAW from DB): 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 14:55:01 -->    - question (type): string
DEBUG - 2025-12-04 14:55:01 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:01 -->    - question (length): 33
DEBUG - 2025-12-04 14:55:01 -->    - question (first 100 chars): uploadkjaslkdfj queatisen file sr
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "769",
        "question_no": "0",
        "question": "queasrajsdfian 1",
        "question_type_id": "1"
    },
    {
        "question_id": "770",
        "question_no": "1",
        "question": "mult2",
        "question_type_id": "2"
    },
    {
        "question_id": "771",
        "question_no": "2",
        "question": "tureiaj sffalllase",
        "question_type_id": "3"
    },
    {
        "question_id": "772",
        "question_no": "3",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "question_type_id": "4"
    },
    {
        "question_id": "773",
        "question_no": "4",
        "question": "text entry short answfe roijaowerjq u=es",
        "question_type_id": "10"
    },
    {
        "question_id": "774",
        "question_no": "5",
        "question": "essay long rich textlasjdflasjef",
        "question_type_id": "20"
    },
    {
        "question_id": "775",
        "question_no": "6",
        "question": "uploadkjaslkdfj queatisen file sr",
        "question_type_id": "50"
    }
]
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "769",
        "content_id": "16",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "0",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "queasrajsdfian 1",
        "options": "[{\"options\":\"1a\"},{\"options\":\"2b\"},{\"options\":\"3c\"},{\"options\":\"4d\"}]",
        "answer": "[{\"correctActive\":1},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "hintiti 1",
        "explanation": "feedbaisdfj1",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "770",
        "content_id": "16",
        "question_type_id": "2",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "mult2",
        "options": "[{\"options\":\"11a\"},{\"options\":\"12a\"},{\"options\":\"13a\"},{\"options\":\"14a\"}]",
        "answer": "[{\"correctActive\":1},{\"correctActive\":1},{\"correctActive\":0},{\"correctActive\":0}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "2",
        "exact_match": "0",
        "hint": "hinasf 2",
        "explanation": "feeisaowe2",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "771",
        "content_id": "16",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "2",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "tureiaj sffalllase",
        "options": "[]",
        "answer": "[{\"correctAnswer\":\"false\",\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "hint 3",
        "explanation": "fee3",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "772",
        "content_id": "16",
        "question_type_id": "4",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "3",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "options": "[]",
        "answer": "[{\"correctAnswer\":\"abcd\",\"correctActive\":1},{\"correctAnswer\":\"ddde\",\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "1",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "773",
        "content_id": "16",
        "question_type_id": "10",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "4",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "text entry short answfe roijaowerjq u=es",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "2",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "300",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "774",
        "content_id": "16",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "5",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "essay long rich textlasjdflasjef",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "5",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    },
    {
        "question_id": "775",
        "content_id": "16",
        "question_type_id": "50",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "6",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "uploadkjaslkdfj queatisen file sr",
        "options": "[]",
        "answer": "[]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "3",
        "exact_match": "0",
        "hint": "",
        "explanation": "upload file presentation",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 769
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'queasrajsdfian 1'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'queasrajsdfian 1'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #1 - question_id: 770
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'mult2'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'mult2'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #2 - question_id: 771
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'tureiaj sffalllase'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'tureiaj sffalllase'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #3 - question_id: 772
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #4 - question_id: 773
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #5 - question_id: 774
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Processing question #6 - question_id: 775
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "769",
        "content_id": "16",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "0",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "queasrajsdfian 1",
        "options": [
            {
                "options": "1a"
            },
            {
                "options": "2b"
            },
            {
                "options": "3c"
            },
            {
                "options": "4d"
            }
        ],
        "answer": [
            {
                "correctActive": 1
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "feedbaisdfj1",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "770",
        "content_id": "16",
        "question_type_id": "2",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "mult2",
        "options": [
            {
                "options": "11a"
            },
            {
                "options": "12a"
            },
            {
                "options": "13a"
            },
            {
                "options": "14a"
            }
        ],
        "answer": [
            {
                "correctActive": 1
            },
            {
                "correctActive": 1
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "2",
        "exact_match": "0",
        "hint": [],
        "explanation": "feeisaowe2",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "771",
        "content_id": "16",
        "question_type_id": "3",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "2",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "tureiaj sffalllase",
        "options": [],
        "answer": [
            {
                "correctAnswer": "false",
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "fee3",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "772",
        "content_id": "16",
        "question_type_id": "4",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "3",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf",
        "options": [],
        "answer": [
            {
                "correctAnswer": "abcd",
                "correctActive": 1
            },
            {
                "correctAnswer": "ddde",
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "1",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "773",
        "content_id": "16",
        "question_type_id": "10",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "4",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "text entry short answfe roijaowerjq u=es",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "2",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "300",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "774",
        "content_id": "16",
        "question_type_id": "20",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "5",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "essay long rich textlasjdflasjef",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "5",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    },
    {
        "question_id": "775",
        "content_id": "16",
        "question_type_id": "50",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "6",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "uploadkjaslkdfj queatisen file sr",
        "options": [],
        "answer": [],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "3",
        "exact_match": "0",
        "hint": [],
        "explanation": "upload file presentation",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "[]",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-29 23:12:57",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Total questions count: 7
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 769, question_type_id: 1, question: queasrajsdfian 1...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #1 - question_id: 770, question_type_id: 2, question: mult2...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #2 - question_id: 771, question_type_id: 3, question: tureiaj sffalllase...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #3 - question_id: 772, question_type_id: 4, question: fill in the blankansdflknasf ______ askdjlfnas;dkh...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #4 - question_id: 773, question_type_id: 10, question: text entry short answfe roijaowerjq u=es...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #5 - question_id: 774, question_type_id: 20, question: essay long rich textlasjdflasjef...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Question #6 - question_id: 775, question_type_id: 50, question: uploadkjaslkdfj queatisen file sr...
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - content_id: 16
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions count: 7
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=769, question='queasrajsdfian 1'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[1]: question_id=770, question='mult2'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[2]: question_id=771, question='tureiaj sffalllase'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[3]: question_id=772, question='fill in the blankansdflknasf ______ askdjlfnas;dkhf _____asjdlfasf'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[4]: question_id=773, question='text entry short answfe roijaowerjq u=es'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[5]: question_id=774, question='essay long rich textlasjdflasjef'
DEBUG - 2025-12-04 14:55:01 --> ðŸ” [CONTENT DETAIL] - questions[6]: question_id=775, question='uploadkjaslkdfj queatisen file sr'
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:01 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:05 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:55:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:55:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Route = student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token validated successfully for route: student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 14:55:06 -->    - question_id: 776
DEBUG - 2025-12-04 14:55:06 -->    - question_no: 1
DEBUG - 2025-12-04 14:55:06 -->    - question_type_id: 1
DEBUG - 2025-12-04 14:55:06 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-04 14:55:06 -->    - question (type): string
DEBUG - 2025-12-04 14:55:06 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:06 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:06 -->    - question (length): 14
DEBUG - 2025-12-04 14:55:06 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-04 14:55:06 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:06 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:08 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:55:08 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:55:08 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Route = student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 14:55:09 --> AuthFilter: Token validated successfully for route: student/resourcesList/\App\Controllers\Student::resourcesList
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Input parameters: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","student_id":"2488","type":1,"timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Filter type: 1, isAllFilter: true
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class-wide date condition: 1=1
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] SQL Query: 
                SELECT DISTINCT
                    COALESCE(sc.id, 0) as student_content_id,
                    COALESCE(sc.class_content_id, cc.id) as class_content_id,
                    cc.content_id,
                    cc.class_id,
                    cc.all_student,
                    c.name as content_name,
                    c.content_type,
                    c.content_format,
                    c.file_path,
                    c.links,
                    COALESCE(sc.annotation, c.annotation, '') as annotation,
                    cc.start_date,
                    cc.end_date,
                    cc.notes,
                    cc.downloadable,
                    cl.class_name,
                    cl.subject,
                    cl.grade,
                    s.subject_name,
                    g.grade_name,
                    sc.student_id as student_content_student_id,
                    scs.student_id as student_class_student_id,
                    DATEDIFF(cc.end_date, CURDATE()) as overdue,
                    (CASE 
                        WHEN cc.start_date > CURDATE() THEN '1'
                        WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN '2'
                        WHEN cc.end_date < CURDATE() THEN '3'
                        ELSE '2'
                    END) AS content_date_status
                FROM class_content cc
                INNER JOIN content c ON cc.content_id = c.content_id
                INNER JOIN class cl ON cc.class_id = cl.class_id
                LEFT JOIN subject s ON cl.subject = s.subject_id
                LEFT JOIN grade g ON cl.grade = g.grade_id
                LEFT JOIN student_class scs ON cc.class_id = scs.class_id AND scs.student_id = ?
                LEFT JOIN student_content sc ON sc.class_content_id = cc.id 
                    AND sc.student_id = ?
                WHERE scs.student_id IS NOT NULL
                AND cc.status = 1
                AND c.content_type = 1
                AND (
                    -- Content assigned to all students in the class
                    -- Show if date condition is met
                    (cc.all_student = 1 AND (1=1))
                    OR
                    -- Content assigned to specific students
                    -- Must match student_content.student_id to the logged-in student
                    (cc.all_student = 0 AND sc.student_id = ? AND sc.id IS NOT NULL)
                )
             ORDER BY cc.end_date ASC
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Query Parameters: ["2488","2488","2488"]
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Executed query with user_id: 2488
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Total resources found: 3
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #0: {"content_id":"20","content_name":"book","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #1: {"content_id":"1","content_name":"Sample File 1","class_id":"1374","all_student":"1","student_content_id":"0","student_content_student_id":"N\/A","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Resource #2: {"content_id":"6","content_name":"New 2 Resou","class_id":"1374","all_student":"0","student_content_id":"4","student_content_student_id":"2488","student_class_student_id":"2488","class_name":"English Class Nov"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student-specific student_content records found: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student Content Record #0: {"id":"4","student_id":"2488","content_id":"6","class_content_id":"6","class_id":"1374","draft_status":"0","all_student":"0","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Student is in classes: ["1374"]
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class content records in student classes: 4
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #0: {"id":"1","content_id":"1","class_id":"1374","all_student":"1","status":"1","content_name":"Sample File 1"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #1: {"id":"5","content_id":"5","class_id":"1374","all_student":"0","status":"1","content_name":"New Resources Added"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #2: {"id":"6","content_id":"6","class_id":"1374","all_student":"0","status":"1","content_name":"New 2 Resou"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ“‹ [RESOURCES LIST] Class Content Record #3: {"id":"11","content_id":"20","class_id":"1374","all_student":"1","status":"1","content_name":"book"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: ""
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '1' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Content ID: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"1","content_format":"1","class_id":"1374","student_id":"2488","student_content_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: ""
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '1' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Content ID: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"1","content_format":"1","class_id":"1374","student_id":"2488","student_content_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:55:09 --> âš ï¸ [CONTENT DETAIL] Could not find or create student_content - missing class_content_id or class_id
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - content_id: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 14:55:09 --> âš ï¸ [CONTENT DETAIL] Could not find or create student_content - missing class_content_id or class_id
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - content_id: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - content_format: 1
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-04 14:55:09 --> ðŸ” [CONTENT DETAIL] - questions count: 0
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:10 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-04 14:55:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:55:10 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:55:20 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 14:55:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:55:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:55:29 --> AuthFilter: Route = mailbox/getMessageCount/\App\Controllers\MailboxCI4::getMessageCount
DEBUG - 2025-12-04 14:55:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:29 --> AuthFilter: Token validated successfully for route: mailbox/getMessageCount/\App\Controllers\MailboxCI4::getMessageCount
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-04 14:55:30 --> Model mailbox_model not found
ERROR - 2025-12-04 14:55:30 --> Model common_model not found
WARNING - 2025-12-04 14:55:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:55:30 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-04 14:55:30 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Route = student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token validated successfully for route: student/ClassRecording/\App\Controllers\Student::classRecording
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-12-04 14:55:30 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"5","user_id":"2488","class_id":"1374","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:30 --> ðŸ‘¤ Classes::curriculumList - isStudent: YES, studentId: 2488
DEBUG - 2025-12-04 14:55:30 --> ðŸ”’ [CLASSES] Applied student filtering for student_id: 2488
DEBUG - 2025-12-04 14:55:30 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
LEFT JOIN `student_class` `scs` ON `scs`.`class_id` = `cc`.`class_id` AND `scs`.`student_id` = 2488
WHERE `cc`.`class_id` = '1374'
AND `cc`.`status` = 1
AND   (
   (
`cc`.`all_student` = 1
AND `cc`.`end_date` >= '2025-12-04'
AND `scs`.`student_id` = '2488'
  )
OR    (
`cc`.`all_student` = 0
AND `sc`.`student_id` = '2488'
AND sc.id IS NOT NULL
  )
 )
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-12-04 14:55:30 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=6, content_name=New 2 Resou, all_student=0, individual_students=John Kim, individual_count=1
DEBUG - 2025-12-04 14:55:30 --> ðŸ” [CLASSES] student_content records found: 1 for class_content_id=6
DEBUG - 2025-12-04 14:55:30 --> ðŸ” [CLASSES] student_ids in student_content: ["2488"]
DEBUG - 2025-12-04 14:55:30 --> ðŸ” [CLASSES] user_profile records found: 1
DEBUG - 2025-12-04 14:55:30 --> ðŸ” [CLASSES] Student names from user_profile: ["John Kim"]
DEBUG - 2025-12-04 14:55:30 --> ðŸ“¦ Classes::curriculumList fetched 9 row(s)
DEBUG - 2025-12-04 14:55:30 --> ðŸ“„ Classes::curriculumList sample row: {"id":"1","class_id":"1374","content_id":"1","school_id":"59","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-11-24","end_date":"2026-01-31","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"0","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"2478","created_date":"2025-11-24 04:48:02","modified_by":"2478","modified_date":"2025-11-24 13:49:45","sys_time":"2025-11-24 08:49:45","class_content_id":"1","content_name":"Sample File 1","content_type":"1","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/7b811b655cc4d9.pdf\",\"image\":\"Sample_Question.pdf\",\"size\":21578,\"type\":\"application\\\/pdf\",\"original_name\":\"Sample_Question.pdf\",\"extension\":\"pdf\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:30 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-12-04 14:55:30 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"5","user_id":"2488","class_id":["1374"],"timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:30 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = ('1374')
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-12-04 14:55:30 --> ðŸ“¦ Classes::topicList fetched 0 row(s)
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Raw batch_id from contentIdList: ""
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Loading answers for content_id: 9
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 7) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 7),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=9 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 7 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '9' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Content ID: 9
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"9","content_format":"3","class_id":"1374","student_content_id":"7","class_content_id":"7","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Results count: 0
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '9'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [TEXT_QUESTIONS] Content ID: 9
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-04 14:55:32 -->    - question_id: 750
DEBUG - 2025-12-04 14:55:32 -->    - question_no: 1
DEBUG - 2025-12-04 14:55:32 -->    - question_type_id: 55
DEBUG - 2025-12-04 14:55:32 -->    - question (RAW from DB): 'Essay prompt here'
DEBUG - 2025-12-04 14:55:32 -->    - question (type): string
DEBUG - 2025-12-04 14:55:32 -->    - question (is_null): NO
DEBUG - 2025-12-04 14:55:32 -->    - question (is_empty): NO
DEBUG - 2025-12-04 14:55:32 -->    - question (length): 17
DEBUG - 2025-12-04 14:55:32 -->    - question (first 100 chars): Essay prompt here
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "750",
        "question_no": "1",
        "question": "Essay prompt here",
        "question_type_id": "55"
    }
]
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "750",
        "content_id": "9",
        "question_type_id": "55",
        "sub_question_type_id": "0",
        "editor_context": "Essay prompt here",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "Essay prompt here",
        "options": "[{\"isSelected\":\"\"}]",
        "answer": "[{\"correctAnswer\":\"sampple essay here\",\"correctActive\":\"\"}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "35",
        "exact_match": "0",
        "hint": "[]",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "stimulus articles here",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-26 05:03:42",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": null
    }
]
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Processing question #0 - question_id: 750
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question value: 'Essay prompt here'
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] AFTER processing - question value: 'Essay prompt here'
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "750",
        "content_id": "9",
        "question_type_id": "55",
        "sub_question_type_id": "0",
        "editor_context": "Essay prompt here",
        "editor_type": "1",
        "question_no": "1",
        "sub_question_no": "1",
        "has_sub_question": "0",
        "question": "Essay prompt here",
        "options": [
            {
                "isSelected": ""
            }
        ],
        "answer": [
            {
                "correctAnswer": "sampple essay here",
                "correctActive": ""
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "0",
        "points": "35",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "stimulus articles here",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-26 05:03:42",
        "passage": "",
        "passage_title": "",
        "subject_id": "400",
        "question_topic_id": null,
        "question_standard": null,
        "question_sub_topic_id": null,
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Question #0 - question_id: 750, question_type_id: 55, question: Essay prompt here...
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Added student_content_status: 1
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] - content_id: 9
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] - student_content_status: 1
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-04 14:55:32 --> ðŸ” [CONTENT DETAIL] - questions[0]: question_id=750, question='Essay prompt here'
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Route = student/getOpenAiFeedbackCount/\App\Controllers\Student::getOpenAiFeedbackCount
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:32 --> AuthFilter: Token validated successfully for route: student/getOpenAiFeedbackCount/\App\Controllers\Student::getOpenAiFeedbackCount
DEBUG - 2025-12-04 14:55:42 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-04 14:55:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:42 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-04 14:55:42 --> ðŸ“¥ Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"5","user_id":"2488","student_content_id":"7","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:42 --> ðŸ“‹ TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"5","user_id":"2488","student_content_id":"7","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:42 --> ðŸ” Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 7 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-04 14:55:42 --> âœ… Get Overall Feedback returned 0 records
DEBUG - 2025-12-04 14:55:42 --> âœ… Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-04 14:55:52 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-04 14:55:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:55:52 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-04 14:55:52 --> ðŸ“¥ Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"5","user_id":"2488","student_content_id":"7","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:52 --> ðŸ“‹ TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"5","user_id":"2488","student_content_id":"7","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-04 14:55:52 --> ðŸ” Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 7 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-04 14:55:52 --> âœ… Get Overall Feedback returned 0 records
DEBUG - 2025-12-04 14:55:52 --> âœ… Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:00 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:32 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:56:52 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:56:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:56:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-04 14:57:20 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-04 14:57:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 14:57:20 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 14:57:26 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 14:57:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:57:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 14:57:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:00:32 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:00:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:00:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:00:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:01:03 --> AuthFilter: Route = api/student-portal/profile/change-request/\App\Controllers\StudentPortalAPI::createProfileChangeRequest
DEBUG - 2025-12-04 15:01:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:01:03 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-request/\App\Controllers\StudentPortalAPI::createProfileChangeRequest
DEBUG - 2025-12-04 15:01:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
CRITICAL - 2025-12-04 15:01:03 --> TypeError: App\Services\StudentPortal\ProfileChangeService::createProfileChangeRequest(): Argument #1 ($studentId) must be of type int, string given, called in /Applications/MAMP/htdocs/rista_ci4/app/Controllers/StudentPortalAPI.php on line 78
[Method: POST, Route: api/student-portal/profile/change-request]
in APPPATH/Services/StudentPortal/ProfileChangeService.php on line 31.
 1 APPPATH/Controllers/StudentPortalAPI.php(78): App\Services\StudentPortal\ProfileChangeService->createProfileChangeRequest('', '59', [...], 'testing for change')
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\StudentPortalAPI->createProfileChangeRequest()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\StudentPortalAPI))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:02:33 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-04 15:02:33 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 15:02:33 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:03:24 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:03:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:29 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 15:04:29 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 15:04:29 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:04:30 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:04:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:04:40 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 15:04:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 15:04:40 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:04:41 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:04:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-04 15:26:07 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 15:26:07 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:26:07 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:26:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:26:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:26:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 15:43:20 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 15:43:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:43:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:43:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 15:43:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 15:43:21 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 15:43:21 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token timestamp validation failed
WARNING - 2025-12-04 16:45:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 16:45:59 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 16:45:59 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 16:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 16:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 16:45:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 17:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 17:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 17:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 17:12:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 17:12:36 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 17:12:36 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token timestamp validation failed
WARNING - 2025-12-04 19:42:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 19:42:05 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 19:42:05 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 19:42:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 19:42:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 19:42:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-04 20:17:23 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-04 20:17:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-04 20:17:23 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Route = api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Route = api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Route = api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token validated successfully for route: api/student-portal/absence-requests/\App\Controllers\StudentPortalAPI::listAbsenceRequests
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token validated successfully for route: api/student-portal/profile/change-requests/\App\Controllers\StudentPortalAPI::listProfileChangeRequests
DEBUG - 2025-12-04 20:17:24 --> AuthFilter: Token validated successfully for route: api/student-portal/special-requests/\App\Controllers\StudentPortalAPI::listSpecialRequests
DEBUG - 2025-12-04 20:17:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 20:17:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-04 20:17:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
