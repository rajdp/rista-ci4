DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:08:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:08:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:08:56 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:08:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:08:56 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:08:56 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:08:56 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:08:56 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:08:56 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:08:56 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:08:56 --> Class list results count: 216
DEBUG - 2025-11-16 20:08:56 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> Class list results count: 216
DEBUG - 2025-11-16 20:08:56 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:08:56 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:14 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:09:14 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:14 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:09:14 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:09:14 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:09:14 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:14 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:09:14 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:09:14 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:09:14 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:15 --> Class list results count: 216
DEBUG - 2025-11-16 20:09:15 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:09:15 --> Class list results count: 216
DEBUG - 2025-11-16 20:09:15 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:15 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:09:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:09:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:09:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:09:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:09:22 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:09:22 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:09:22 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:09:22 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:09:22 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:22 --> Class list results count: 216
DEBUG - 2025-11-16 20:09:22 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:09:22 --> Class list results count: 216
DEBUG - 2025-11-16 20:09:22 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:09:22 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
ERROR - 2025-11-16 20:09:33 --> mysqli_sql_exception: Table 't_teacher_availability' already exists in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('CREATE TABLE `t...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('CREATE TABLE `t...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('CREATE TABLE `t...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/Forge.php(570): CodeIgniter\Database\BaseConnection->query('CREATE TABLE `t...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-09-01-202500_CreateTeacherAvailability.php(105): CodeIgniter\Database\Forge->createTable('t_teacher_avail...')
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\CreateTeacherAvailability->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
ERROR - 2025-11-16 20:09:55 --> mysqli_sql_exception: Table 't_teacher_availability' already exists in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('CREATE TABLE `t...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('CREATE TABLE `t...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('CREATE TABLE `t...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/Forge.php(570): CodeIgniter\Database\BaseConnection->query('CREATE TABLE `t...')
#4 /Applications/MAMP/htdocs/rista_ci4/app/Database/Migrations/2025-09-01-202500_CreateTeacherAvailability.php(105): CodeIgniter\Database\Forge->createTable('t_teacher_avail...')
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(866): App\Database\Migrations\CreateTeacherAvailability->up()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MigrationRunner.php(182): CodeIgniter\Database\MigrationRunner->migrate('up', Object(stdClass))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Commands/Database/Migrate.php(85): CodeIgniter\Database\MigrationRunner->latest(NULL)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Commands.php(70): CodeIgniter\Commands\Database\Migrate->run(Array)
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CLI/Console.php(48): CodeIgniter\CLI\Commands->run('migrate', Array)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(360): CodeIgniter\CLI\Console->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(104): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 /Applications/MAMP/htdocs/rista_ci4/spark(84): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:42 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:15:42 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:15:42 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:15:42 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:15:42 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:15:43 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:15:43 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:15:43 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:15:43 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:15:43 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:15:43 --> Class list results count: 216
DEBUG - 2025-11-16 20:15:43 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:15:43 --> Class list results count: 216
DEBUG - 2025-11-16 20:15:43 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:43 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:15:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:18:05 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:05 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:18:05 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:05 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:18:05 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:18:06 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:06 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:18:06 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:18:06 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:18:06 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:18:06 --> Class list results count: 216
DEBUG - 2025-11-16 20:18:06 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:18:06 --> Class list results count: 216
DEBUG - 2025-11-16 20:18:06 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:18:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:18:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:18:27 --> AuthFilter: Route = admin/self-registration/note/\App\Controllers\Admin\SelfRegistration::addNote
DEBUG - 2025-11-16 20:18:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/note/\App\Controllers\Admin\SelfRegistration::addNote
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:18:53 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:18:53 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:53 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:18:53 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:18:53 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:18:53 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:18:53 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:18:53 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:18:53 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:18:53 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:18:53 --> Class list results count: 216
DEBUG - 2025-11-16 20:18:53 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:18:53 --> Class list results count: 216
DEBUG - 2025-11-16 20:18:53 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:19:22 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:19:22 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:19:22 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:19:22 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:19:22 --> Class list results count: 10
DEBUG - 2025-11-16 20:19:22 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:19:22 --> Class list results count: 10
DEBUG - 2025-11-16 20:19:22 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-11-16 20:19:23 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"49","class_id":"1370","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":["1370"],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:19:23 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1370'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"49","class_id":"1370","school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:19:23 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1370'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¦ Classes::topicList fetched 2 row(s)
DEBUG - 2025-11-16 20:19:23 --> ðŸ“„ Classes::topicList sample row: {"topic_id":"161","class_id":"1370","topic":"teststat","start_date":"2025-11-12","end_date":"2025-12-06","display_order":"1","status":"1","created_by":"49","created_date":"2025-11-12 17:50:12","modified_by":"49","modified_date":"2025-11-12 19:31:54"}
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-11-16 20:19:23 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=26025, content_name=New Quick Quiz, all_student=0, individual_students=Aadi Patel, Aanya  Mehta , individual_count=2
DEBUG - 2025-11-16 20:19:23 --> ðŸ” [CLASSES] student_content records found: 2 for class_content_id=26025
DEBUG - 2025-11-16 20:19:23 --> ðŸ” [CLASSES] student_ids in student_content: ["1982","1679"]
DEBUG - 2025-11-16 20:19:23 --> ðŸ” [CLASSES] user_profile records found: 2
DEBUG - 2025-11-16 20:19:23 --> ðŸ” [CLASSES] Student names from user_profile: ["Aanya  Mehta","Aadi Patel"]
DEBUG - 2025-11-16 20:19:23 --> ðŸ“¦ Classes::curriculumList fetched 12 row(s)
DEBUG - 2025-11-16 20:19:23 --> ðŸ“„ Classes::curriculumList sample row: {"id":"26013","class_id":"1370","content_id":"10839","school_id":"2","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-10-31","end_date":"2025-11-29","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"161","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"49","created_date":"2025-11-12 18:10:19","modified_by":"49","modified_date":"2025-11-12 18:10:30","sys_time":"2025-11-12 13:10:30","class_content_id":"26013","content_name":"NESPOperatingCalendar (3)","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/0b061fbc2e807c.pdf\",\"image\":\"NESPOperatingCalendar (3).pdf\",\"size\":53853,\"type\":\"application\\\/pdf\",\"original_name\":\"NESPOperatingCalendar (3).pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:20:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:21:02 --> AuthFilter: Route = crm/report/exams/\App\Controllers\Admin\ReportCards::listExams
DEBUG - 2025-11-16 20:21:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:02 --> AuthFilter: Token validated successfully for route: crm/report/exams/\App\Controllers\Admin\ReportCards::listExams
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:03 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:03 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:21:03 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
ERROR - 2025-11-16 20:21:03 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:21:03 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:21:03 --> âœ… Guardians::list - Returning 8 guardian(s)
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:21:03 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:21:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:21:24 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:24 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:24 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","search":null,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:24 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:21:24 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
ERROR - 2025-11-16 20:21:24 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:21:24 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:21:24 --> âœ… Guardians::list - Returning 8 guardian(s)
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:27 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:21:27 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:27 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:21:27 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
ERROR - 2025-11-16 20:21:27 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:21:27 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:21:27 --> âœ… Guardians::list - Returning 8 guardian(s)
DEBUG - 2025-11-16 20:21:29 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:29 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:29 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","search":null,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:29 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:21:29 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
ERROR - 2025-11-16 20:21:29 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:21:29 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:21:29 --> âœ… Guardians::list - Returning 8 guardian(s)
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:21:58 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:21:58 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:21:58 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:58 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:21:58 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:21:58 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:21:58 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:21:58 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:21:58 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:21:58 --> Class list results count: 216
DEBUG - 2025-11-16 20:21:58 --> Class list results count: 216
DEBUG - 2025-11-16 20:21:58 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:21:58 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:21:58 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:24:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:21 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:24:21 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:24:21 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:21 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:24:21 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:24:21 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:24:21 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:21 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:24:21 --> Class list results count: 216
DEBUG - 2025-11-16 20:24:21 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:24:21 --> Class list results count: 216
DEBUG - 2025-11-16 20:24:21 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:24:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:24:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:24:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:24:36 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:36 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:24:36 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:24:36 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:24:36 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:24:36 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:24:36 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:24:36 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:24:36 --> Class list results count: 216
DEBUG - 2025-11-16 20:24:36 --> Class list results count: 216
DEBUG - 2025-11-16 20:24:36 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:24:36 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:27 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:27 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:27 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:27 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:27 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:27 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:25:27 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:25:27 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:25:27 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:27 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:27 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:27 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:27 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:27 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:41 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:41 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2463","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:41 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:25:41 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:25:41 --> âœ… Guardians::list - Permission granted for student: 2463
DEBUG - 2025-11-16 20:25:41 --> ðŸ“ Guardians::list - No guardians found for student: 2463
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:41 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:41 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:41 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:41 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:41 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:53 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:53 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:53 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:53 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:54 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:54 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:25:54 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:25:54 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:25:54 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:54 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:54 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:54 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:54 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:54 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:25:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:57 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:57 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:25:57 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:25:57 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:25:57 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:25:57 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:25:57 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:25:57 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:25:57 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:25:57 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:25:57 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:25:57 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:57 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:25:57 --> Class list results count: 216
DEBUG - 2025-11-16 20:25:57 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:26:12 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:26:12 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:12 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:26:12 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:26:12 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:12 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:26:12 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:26:12 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:26:12 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:26:12 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:26:12 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:13 --> Class list results count: 216
DEBUG - 2025-11-16 20:26:13 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:26:13 --> Class list results count: 216
DEBUG - 2025-11-16 20:26:13 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:26:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:26:19 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:26:19 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:26:19 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:26:19 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:26:19 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:26:19 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:26:19 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:26:19 --> âœ… Guardians::list - Permission granted for student: 2456
DEBUG - 2025-11-16 20:26:19 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
ERROR - 2025-11-16 20:26:19 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:26:19 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:26:19 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:20 --> Class list results count: 216
DEBUG - 2025-11-16 20:26:20 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> Class list results count: 216
DEBUG - 2025-11-16 20:26:20 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:26:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:24 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:24 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:24 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:24 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:24 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:24 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:27:24 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:27:24 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:27:24 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:27:24 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:27:24 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:24 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:24 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:24 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:24 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:24 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:27 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:27 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:27 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:27 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:27 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:28 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:28 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:27:28 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:27:28 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:27:28 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:27:28 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:27:28 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:28 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:28 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:28 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:28 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:28 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:34 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:34 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:34 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:34 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:34 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:34 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:27:34 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:27:34 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:27:34 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:27:34 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:27:34 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:34 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:34 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:34 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:34 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:34 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:37 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2463","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:37 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:27:37 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:27:37 --> âœ… Guardians::list - Permission granted for student: 2463
DEBUG - 2025-11-16 20:27:37 --> ðŸ“ Guardians::list - No guardians found for student: 2463
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:37 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:37 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:37 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:37 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:37 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:39 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:39 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:39 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:27:39 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:27:39 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:27:40 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:27:40 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:27:40 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:27:40 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:27:40 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:27:40 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:27:40 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:40 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:27:40 --> Class list results count: 216
DEBUG - 2025-11-16 20:27:40 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:22 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:22 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:25 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:25 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:26 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:32 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:32 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:32 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:32 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:32 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:32 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:36 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:36 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:36 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:36 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:37 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:37 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:37 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:28:37 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Route = classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Route = classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token validated successfully for route: classes/curriculumList/\App\Controllers\Classes::curriculumList
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Route = classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¥ Classes::curriculumList params: {"platform":"web","type":"0","role_id":"2","user_id":"49","class_id":"1370","school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:45 --> ðŸ“ Classes::curriculumList SQL: SELECT `cc`.*, `cc`.`id` as `class_content_id`, `c`.`name` as `content_name`, `c`.`content_type`, `c`.`content_format`, `c`.`file_path`, CASE 
                                WHEN cc.start_date > CURDATE() THEN "1"
                                WHEN cc.start_date <= CURDATE() AND cc.end_date >= CURDATE() THEN "2"
                                WHEN cc.end_date < CURDATE() THEN "3"
                                ELSE "2"
                             END as content_date_status, CASE WHEN cc.all_student = 0 THEN
                                GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name) ORDER BY up.first_name SEPARATOR ", ")
                             END AS individual_students, CASE WHEN cc.all_student = 0 THEN COUNT(DISTINCT sc.student_id) ELSE 0 END AS individual_count
FROM `class_content` `cc`
LEFT JOIN `content` `c` ON `cc`.`content_id` = `c`.`content_id`
LEFT JOIN `student_content` `sc` ON `sc`.`class_content_id` = `cc`.`id`
LEFT JOIN `user_profile` `up` ON `sc`.`student_id` = `up`.`user_id`
WHERE `cc`.`class_id` = '1370'
AND `cc`.`status` = 1
GROUP BY `cc`.`id`
ORDER BY `cc`.`start_date` ASC
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token validated successfully for route: classes/topicList/\App\Controllers\Classes::topicList
DEBUG - 2025-11-16 20:28:45 --> ðŸ” [CLASSES] Individual assignment found: class_content_id=26025, content_name=New Quick Quiz, all_student=0, individual_students=Aadi Patel, Aanya  Mehta , individual_count=2
DEBUG - 2025-11-16 20:28:45 --> ðŸ” [CLASSES] student_content records found: 2 for class_content_id=26025
DEBUG - 2025-11-16 20:28:45 --> ðŸ” [CLASSES] student_ids in student_content: ["1982","1679"]
DEBUG - 2025-11-16 20:28:45 --> AuthFilter: Token validated successfully for route: classes/getClassNotes/\App\Controllers\Classes::getClassNotes
DEBUG - 2025-11-16 20:28:45 --> ðŸ” [CLASSES] user_profile records found: 2
DEBUG - 2025-11-16 20:28:45 --> ðŸ” [CLASSES] Student names from user_profile: ["Aanya  Mehta","Aadi Patel"]
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¦ Classes::curriculumList fetched 12 row(s)
DEBUG - 2025-11-16 20:28:45 --> ðŸ“„ Classes::curriculumList sample row: {"id":"26013","class_id":"1370","content_id":"10839","school_id":"2","status":"1","all_student":"1","release_score":"0","auto_review":"0","start_date":"2025-10-31","end_date":"2025-11-29","start_time":"00:00:00","end_time":"23:59:00","notes":"","downloadable":"0","topic_id":"161","is_accessible":"0","allow_feedback":"0","allow_workspace":"0","show_timer":"0","created_by":"49","created_date":"2025-11-12 18:10:19","modified_by":"49","modified_date":"2025-11-12 18:10:30","sys_time":"2025-11-12 13:10:30","class_content_id":"26013","content_name":"NESPOperatingCalendar (3)","content_type":"2","content_format":"1","file_path":"[{\"original_image_url\":\"uploads\\\/content\\\/answerKey\\\/0b061fbc2e807c.pdf\",\"image\":\"NESPOperatingCalendar (3).pdf\",\"size\":53853,\"type\":\"application\\\/pdf\",\"original_name\":\"NESPOperatingCalendar (3).pdf\",\"extension\":\"pdf\",\"resource_type\":\"2\",\"links\":[]}]","content_date_status":"2","individual_students":"","individual_count":0}
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¥ Classes::topicList params: {"platform":"web","role_id":"2","user_id":"49","class_id":"1370","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:45 --> ðŸ“ Classes::topicList SQL: SELECT `topic_id`, `class_id`, `topic`, `start_date`, `end_date`, `display_order`, `status`, `created_by`, `created_date`, `modified_by`, `modified_date`
FROM `topic`
WHERE `class_id` = '1370'
AND `status` = 1
ORDER BY `display_order` ASC, `topic_id` ASC
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¦ Classes::topicList fetched 2 row(s)
DEBUG - 2025-11-16 20:28:45 --> ðŸ“„ Classes::topicList sample row: {"topic_id":"161","class_id":"1370","topic":"teststat","start_date":"2025-11-12","end_date":"2025-12-06","display_order":"1","status":"1","created_by":"49","created_date":"2025-11-12 17:50:12","modified_by":"49","modified_date":"2025-11-12 19:31:54"}
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¥ Classes::getClassNotes params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":["1370"],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:45 --> ðŸ“¦ Classes::getClassNotes fetched 5 notes
DEBUG - 2025-11-16 20:28:54 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:54 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:54 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-11-16'
AND `c`.`end_date` >= '2025-11-16'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:54 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:54 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:54 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:54 --> Class list results count: 10
DEBUG - 2025-11-16 20:28:54 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:55 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:55 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:55 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:28:55 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:55 --> ðŸ” PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-11-16 20:28:55 --> ðŸ” PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:28:55 --> ðŸ” PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-11-16 20:28:55 --> ðŸ“¦ PAGINATION - Backend returning 10 records
DEBUG - 2025-11-16 20:28:55 --> Class list results count: 216
DEBUG - 2025-11-16 20:28:55 --> Class list results count: 216
DEBUG - 2025-11-16 20:28:55 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:55 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:28:55 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-11-16 20:28:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:28:55 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-11-16 20:29:09 --> ðŸ” PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-11-16 20:29:09 --> ðŸ” PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:09 --> ðŸ” PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-11-16 20:29:09 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:29:09 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:09 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:29:09 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:09 --> ðŸ“¦ PAGINATION - Backend returning 10 records
DEBUG - 2025-11-16 20:29:09 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-11-16 20:29:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:09 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-11-16 20:29:09 --> Class list results count: 216
DEBUG - 2025-11-16 20:29:09 --> Class list results count: 216
DEBUG - 2025-11-16 20:29:09 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:29:09 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:11 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:29:16 --> ðŸ“Š Report::classList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:16 --> ðŸ“Š Report::classList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::classList returning 216 classes
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::classList returning 216 classes
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assessmentList/\App\Controllers\Report::assessmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assignmentList/\App\Controllers\Report::assignmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assessmentList/\App\Controllers\Report::assessmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assessmentList/\App\Controllers\Report::assessmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assignmentList/\App\Controllers\Report::assignmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assessmentList/\App\Controllers\Report::assessmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assignmentList/\App\Controllers\Report::assignmentList
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","from_date":"2025-08-18","to_date":"2025-11-16","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","from_date":"2025-08-18","to_date":"2025-11-16","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","from_date":"2025-08-18","to_date":"2025-11-16","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assignmentList/\App\Controllers\Report::assignmentList
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::assessmentList returning 0 assessments
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::assignmentList returning 3 assignments
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::assessmentList returning 0 assessments
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","from_date":"2025-08-18","to_date":"2025-11-16","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> âœ… Report::assignmentList returning 3 assignments
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assessmentReports/\App\Controllers\Report::assessmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assessmentReports/\App\Controllers\Report::assessmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assignmentReports/\App\Controllers\Report::assignmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assessmentReports/\App\Controllers\Report::assessmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assessmentReports/\App\Controllers\Report::assessmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assignmentReports/\App\Controllers\Report::assignmentReports
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assessmentReports called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","content_id":[],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assessmentReports called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","content_id":[],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> âš ï¸ No content IDs provided for assessmentReports
DEBUG - 2025-11-16 20:29:17 --> âš ï¸ No content IDs provided for assessmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Route = report/assignmentReports/\App\Controllers\Report::assignmentReports
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assignmentReports called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","content_id":["10842","10850","10840"],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Fetching assignment performance for content IDs: 10842,10850,10840
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Query executed: SELECT 
                        sw.content_id,
                        sw.content_name,
                        COALESCE(sw.obtained_score, 0) as earned_points,
                        COALESCE(sw.total_score, 0) as total_score,
                        sw.student_content_status,
                        COALESCE(up.first_name, '') as first_name,
                        COALESCE(up.last_name, '') as last_name,
                        sw.sys_time as submission_date
                    FROM student_work sw
                    LEFT JOIN user_profile up ON sw.student_id = up.user_id
                    WHERE sw.content_id IN (10842,10850,10840)
                    AND sw.content_type = 2
                    ORDER BY sw.content_name, up.last_name, up.first_name
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Found 0 total assignment submissions (all statuses)
DEBUG - 2025-11-16 20:29:17 --> ðŸ” Assignment status breakdown: []
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Calculated stats - Contents: 0, Total Graded: 0, Avg: 0
DEBUG - 2025-11-16 20:29:17 --> AuthFilter: Token validated successfully for route: report/assignmentReports/\App\Controllers\Report::assignmentReports
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Report::assignmentReports called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","class_id":"1370","content_id":["10842","10850","10840"],"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Fetching assignment performance for content IDs: 10842,10850,10840
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Query executed: SELECT 
                        sw.content_id,
                        sw.content_name,
                        COALESCE(sw.obtained_score, 0) as earned_points,
                        COALESCE(sw.total_score, 0) as total_score,
                        sw.student_content_status,
                        COALESCE(up.first_name, '') as first_name,
                        COALESCE(up.last_name, '') as last_name,
                        sw.sys_time as submission_date
                    FROM student_work sw
                    LEFT JOIN user_profile up ON sw.student_id = up.user_id
                    WHERE sw.content_id IN (10842,10850,10840)
                    AND sw.content_type = 2
                    ORDER BY sw.content_name, up.last_name, up.first_name
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Found 0 total assignment submissions (all statuses)
DEBUG - 2025-11-16 20:29:17 --> ðŸ” Assignment status breakdown: []
DEBUG - 2025-11-16 20:29:17 --> ðŸ“Š Calculated stats - Contents: 0, Total Graded: 0, Avg: 0
DEBUG - 2025-11-16 20:29:28 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:29:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:28 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:29:28 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:28 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:28 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 2 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-11-16 20:29:29 --> âœ… Student Assessment returned 743 records
DEBUG - 2025-11-16 20:29:29 --> âœ… Teacher::studentAssessment returning 743 records
DEBUG - 2025-11-16 20:29:29 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:29:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:29 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:29:39 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:29:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:39 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:29:39 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:39 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:39 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:29:39 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:29:39 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:29:44 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:29:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:29:44 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:29:44 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:44 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:29:44 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:29:44 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:29:44 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:30:39 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:30:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:39 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:30:39 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:30:39 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:30:39 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:30:40 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:30:40 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:40 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:41 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:30:56 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:30:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:56 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:30:56 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:30:56 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:30:56 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:30:56 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:30:56 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:30:57 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:02 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:02 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:02 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:02 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:02 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:31:02 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:31:02 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:05 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:13 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:13 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:13 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:13 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:13 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:31:13 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:31:13 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:14 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:19 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:19 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:19 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:31:19 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:31:19 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:19 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:20 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:31:24 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:31:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:24 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:31:24 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:24 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:24 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:31:24 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:31:24 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:31:28 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:28 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:28 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 2 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-11-16 20:31:28 --> âœ… Student Assessment returned 743 records
DEBUG - 2025-11-16 20:31:28 --> âœ… Teacher::studentAssessment returning 743 records
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:28 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:31:30 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:31:30 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:31:30 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:30 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:31:30 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:31:30 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:31:30 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:32:00 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:32:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:00 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:32:00 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:32:00 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:32:00 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:32:00 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:32:00 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:02 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:32:03 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:32:03 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:32:03 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:32:03 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:32:03 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:32:03 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:33:57 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:57 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:33:57 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:57 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":1,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:57 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":1,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:57 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND cc.start_date > CURRENT_DATE() 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:33:57 --> âœ… Assessment List returned 0 records
DEBUG - 2025-11-16 20:33:57 --> âœ… Teacher::assessmentList returning 0 records
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:58 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":3,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:58 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":3,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:58 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND cc.end_date < CURRENT_DATE() AND cc.end_date != '0000-00-00' 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:33:58 --> âœ… Assessment List returned 76 records
DEBUG - 2025-11-16 20:33:58 --> âœ… Teacher::assessmentList returning 76 records
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:33:58 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:33:58 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:58 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:33:58 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:33:58 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:33:58 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:33:59 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:33:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:33:59 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:34:00 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:00 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:00 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:34:00 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:34:00 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:34:00 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:34:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:34:00 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:34:00 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:00 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:00 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:34:00 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:34:00 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:34:01 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:01 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:01 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 2 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-11-16 20:34:01 --> âœ… Student Assessment returned 743 records
DEBUG - 2025-11-16 20:34:01 --> âœ… Teacher::studentAssessment returning 743 records
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:34:01 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:34:13 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:34:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:34:13 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-11-16 20:34:13 --> ðŸ“¥ Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:13 --> ðŸ“‹ TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:13 --> ðŸ” Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:34:13 --> âœ… Assessment List returned 5 records
DEBUG - 2025-11-16 20:34:13 --> âœ… Teacher::assessmentList returning 5 records
DEBUG - 2025-11-16 20:34:24 --> AuthFilter: Route = teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:34:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:34:24 --> AuthFilter: Token validated successfully for route: teacher/assignmentList/\App\Controllers\Teacher::assignmentList
DEBUG - 2025-11-16 20:34:24 --> ðŸ“¥ Teacher::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:24 --> ðŸ“‹ TeacherModel::assignmentList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:34:24 --> ðŸ” Assignment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=2 
                    AND c.status = 1
                    AND co.content_type = 2 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-11-16 20:34:24 --> âœ… Assignment List returned 80 records
DEBUG - 2025-11-16 20:34:24 --> âœ… Teacher::assignmentList returning 80 records
DEBUG - 2025-11-16 20:43:21 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:43:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:21 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:32 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:32 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:32 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:32 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:32 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:43:32 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:43:32 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:43:32 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:43:32 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:32 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:32 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:32 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:32 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:37 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2463","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:37 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:43:37 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:43:37 --> âœ… Guardians::list - Permission granted for student: 2463
DEBUG - 2025-11-16 20:43:37 --> ðŸ“ Guardians::list - No guardians found for student: 2463
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:37 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:37 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:37 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:37 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:37 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:39 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:39 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:39 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:39 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:39 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:39 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:43:39 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:43:39 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 20:43:39 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:43:39 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:43:39 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:39 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:39 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:39 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:39 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:39 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:43:43 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:43 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:43 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:43:43 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:43:43 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2456","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:43:43 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763322271}
DEBUG - 2025-11-16 20:43:43 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:43:43 --> âœ… Guardians::list - Permission granted for student: 2456
ERROR - 2025-11-16 20:43:43 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:43:43 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:43:43 --> âœ… Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:43 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:43:43 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:43 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:43 --> Class list results count: 216
DEBUG - 2025-11-16 20:43:43 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:43:46 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:43:47 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:43:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:43:47 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:23 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:23 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:28 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:34 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:46:36 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:09 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:10 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:11 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:34 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:47:35 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:52:06 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:52:08 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:52:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:08 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:52:15 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:52:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:52:15 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-11-16 20:53:24 --> ðŸ“¥ Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:53:24 --> ðŸ“‹ TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:53:24 --> ðŸ” Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 2 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-11-16 20:53:24 --> âœ… Student Assessment returned 743 records
DEBUG - 2025-11-16 20:53:24 --> âœ… Teacher::studentAssessment returning 743 records
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:53:24 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-11-16 20:53:28 --> AuthFilter: Route = teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:53:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:53:28 --> AuthFilter: Token validated successfully for route: teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:53:28 --> ðŸ“¥ Teacher::recentSubmissions called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","status":1,"limit":25,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:53:28 --> ðŸ” recentSubmissions Query: SELECT 
                    s.student_content_id,
                    s.student_id,
                    COALESCE(up.profile_url,'') AS student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) AS student_name,
                    s.content_id,
                    s.content_name,
                    s.class_id,
                    s.class_name,
                    s.content_type,
                    s.content_format,
                    s.student_content_status,
                    s.total_score,
                    s.obtained_score,
                    DATE_FORMAT(s.content_start_date, '%Y-%m-%d') AS content_start_date,
                    DATE_FORMAT(s.content_end_date, '%Y-%m-%d') AS content_end_date,
                    DATE_FORMAT(s.answer_completed_date, '%Y-%m-%d %H:%i:%s') AS answer_completed_date,
                    DATE_FORMAT(s.correction_completed_date, '%Y-%m-%d %H:%i:%s') AS correction_completed_date,
                    DATE_FORMAT(s.score_release_date, '%Y-%m-%d %H:%i:%s') AS score_release_date,
                    s.sys_time
                FROM student_work s
                LEFT JOIN class c ON c.class_id = s.class_id
                LEFT JOIN user_profile up ON up.user_id = s.student_id
                
                WHERE c.school_id = 2
                AND s.content_type IN (2,3)
                AND s.student_content_status IN (4,6)
                
                
                
                
                ORDER BY 
                    CASE WHEN s.answer_completed_date IS NULL OR s.answer_completed_date = '0000-00-00 00:00:00' THEN 1 ELSE 0 END,
                    s.answer_completed_date DESC,
                    s.sys_time DESC
                LIMIT 25
DEBUG - 2025-11-16 20:53:28 --> âœ… recentSubmissions returned 16 rows
DEBUG - 2025-11-16 20:56:24 --> AuthFilter: Route = teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:56:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:56:24 --> AuthFilter: Token validated successfully for route: teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:56:24 --> ðŸ“¥ Teacher::recentSubmissions called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","status":1,"limit":25,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:24 --> ðŸ” recentSubmissions Query: SELECT 
                    s.student_content_id,
                    s.student_id,
                    COALESCE(up.profile_url,'') AS student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) AS student_name,
                    s.content_id,
                    s.content_name,
                    s.class_id,
                    s.class_name,
                    s.content_type,
                    s.content_format,
                    s.student_content_status,
                    s.total_score,
                    s.obtained_score,
                    DATE_FORMAT(s.content_start_date, '%Y-%m-%d') AS content_start_date,
                    DATE_FORMAT(s.content_end_date, '%Y-%m-%d') AS content_end_date,
                    DATE_FORMAT(s.answer_completed_date, '%Y-%m-%d %H:%i:%s') AS answer_completed_date,
                    DATE_FORMAT(s.correction_completed_date, '%Y-%m-%d %H:%i:%s') AS correction_completed_date,
                    DATE_FORMAT(s.score_release_date, '%Y-%m-%d %H:%i:%s') AS score_release_date,
                    s.sys_time
                FROM student_work s
                LEFT JOIN class c ON c.class_id = s.class_id
                LEFT JOIN user_profile up ON up.user_id = s.student_id
                
                WHERE c.school_id = 2
                AND s.content_type IN (2,3)
                AND s.student_content_status IN (4,6)
                
                
                
                
                ORDER BY 
                    CASE WHEN s.answer_completed_date IS NULL OR s.answer_completed_date = '0000-00-00 00:00:00' THEN 1 ELSE 0 END,
                    s.answer_completed_date DESC,
                    s.sys_time DESC
                LIMIT 25
DEBUG - 2025-11-16 20:56:24 --> âœ… recentSubmissions returned 16 rows
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-11-16 20:56:50 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
ERROR - 2025-11-16 20:56:50 --> mysqli_sql_exception: Table 'edquill_production.question' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `p`.*\nFR...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `p`.*\nFR...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `p`.*\nFR...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `p`.*\nFR...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Content.php(342): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Content->listPassage()
#6 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Content))
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 {main}
DEBUG - 2025-11-16 20:56:50 --> ðŸ“¥ Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","content_id":"655","content_format":"1","class_id":"62","student_id":"374","student_content_id":"29100","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:50 --> ðŸ“‹ TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","content_id":"655","content_format":"1","class_id":"62","student_id":"374","student_content_id":"29100","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:50 --> ðŸ“¥ Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"49","content_id":"655","content_format":"1","class_id":"62","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:50 --> ðŸ“‹ TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"49","content_id":"655","content_format":"1","class_id":"62","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:50 --> ðŸ” Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (CASE WHEN (SELECT count(question_no) FROM answers WHERE content_id = s.content_id and status = 1) = '' THEN '-'
                          ELSE (SELECT count(question_no) FROM answers WHERE content_id = s.content_id and status = 1) END) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM answers WHERE content_id = s.content_id AND status =1) != '' THEN
                          (SELECT SUM(points) FROM answers WHERE content_id = s.content_id AND status = 1) ELSE
                          (SELECT points FROM student_content WHERE id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='655' 
                    AND s.class_id = 62 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '62' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
WARNING - 2025-11-16 20:56:50 --> âš ï¸  No student content found for ID: 29100
DEBUG - 2025-11-16 20:56:50 --> âœ… Teacher::studentAnswerList returning data
DEBUG - 2025-11-16 20:56:50 --> âœ… Teacher Assign returned 0 students
DEBUG - 2025-11-16 20:56:50 --> âœ… Teacher::teacherassignStudent returning 0 students
DEBUG - 2025-11-16 20:56:52 --> AuthFilter: Route = teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:56:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:56:52 --> AuthFilter: Token validated successfully for route: teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:56:52 --> ðŸ“¥ Teacher::recentSubmissions called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","status":1,"limit":25,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:56:52 --> ðŸ” recentSubmissions Query: SELECT 
                    s.student_content_id,
                    s.student_id,
                    COALESCE(up.profile_url,'') AS student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) AS student_name,
                    s.content_id,
                    s.content_name,
                    s.class_id,
                    s.class_name,
                    s.content_type,
                    s.content_format,
                    s.student_content_status,
                    s.total_score,
                    s.obtained_score,
                    DATE_FORMAT(s.content_start_date, '%Y-%m-%d') AS content_start_date,
                    DATE_FORMAT(s.content_end_date, '%Y-%m-%d') AS content_end_date,
                    DATE_FORMAT(s.answer_completed_date, '%Y-%m-%d %H:%i:%s') AS answer_completed_date,
                    DATE_FORMAT(s.correction_completed_date, '%Y-%m-%d %H:%i:%s') AS correction_completed_date,
                    DATE_FORMAT(s.score_release_date, '%Y-%m-%d %H:%i:%s') AS score_release_date,
                    s.sys_time
                FROM student_work s
                LEFT JOIN class c ON c.class_id = s.class_id
                LEFT JOIN user_profile up ON up.user_id = s.student_id
                
                WHERE c.school_id = 2
                AND s.content_type IN (2,3)
                AND s.student_content_status IN (4,6)
                
                
                
                
                ORDER BY 
                    CASE WHEN s.answer_completed_date IS NULL OR s.answer_completed_date = '0000-00-00 00:00:00' THEN 1 ELSE 0 END,
                    s.answer_completed_date DESC,
                    s.sys_time DESC
                LIMIT 25
DEBUG - 2025-11-16 20:56:52 --> âœ… recentSubmissions returned 16 rows
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 20:57:22 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Route = admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:57:27 --> AuthFilter: Token validated successfully for route: admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-11-16 20:57:29 --> AuthFilter: Route = teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:57:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:57:29 --> AuthFilter: Token validated successfully for route: teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-11-16 20:57:29 --> ðŸ“¥ Teacher::recentSubmissions called with params: {"platform":"web","role_id":"2","user_id":"49","school_id":"2","status":1,"limit":25,"timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:57:29 --> ðŸ” recentSubmissions Query: SELECT 
                    s.student_content_id,
                    s.student_id,
                    COALESCE(up.profile_url,'') AS student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) AS student_name,
                    s.content_id,
                    s.content_name,
                    s.class_id,
                    s.class_name,
                    s.content_type,
                    s.content_format,
                    s.student_content_status,
                    s.total_score,
                    s.obtained_score,
                    DATE_FORMAT(s.content_start_date, '%Y-%m-%d') AS content_start_date,
                    DATE_FORMAT(s.content_end_date, '%Y-%m-%d') AS content_end_date,
                    DATE_FORMAT(s.answer_completed_date, '%Y-%m-%d %H:%i:%s') AS answer_completed_date,
                    DATE_FORMAT(s.correction_completed_date, '%Y-%m-%d %H:%i:%s') AS correction_completed_date,
                    DATE_FORMAT(s.score_release_date, '%Y-%m-%d %H:%i:%s') AS score_release_date,
                    s.sys_time
                FROM student_work s
                LEFT JOIN class c ON c.class_id = s.class_id
                LEFT JOIN user_profile up ON up.user_id = s.student_id
                
                WHERE c.school_id = 2
                AND s.content_type IN (2,3)
                AND s.student_content_status IN (4,6)
                
                
                
                
                ORDER BY 
                    CASE WHEN s.answer_completed_date IS NULL OR s.answer_completed_date = '0000-00-00 00:00:00' THEN 1 ELSE 0 END,
                    s.answer_completed_date DESC,
                    s.sys_time DESC
                LIMIT 25
DEBUG - 2025-11-16 20:57:29 --> âœ… recentSubmissions returned 16 rows
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:58:14 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-11-16 20:58:14 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:58:14 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 20:58:14 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
ERROR - 2025-11-16 20:58:14 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 20:58:14 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 20:58:14 --> âœ… Guardians::list - Returning 8 guardian(s)
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:58:52 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:58:52 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:58:52 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:58:52 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:58:52 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:58:52 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 20:58:52 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:58:52 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:58:52 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:58:52 --> Class list results count: 216
DEBUG - 2025-11-16 20:58:52 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:58:52 --> Class list results count: 216
DEBUG - 2025-11-16 20:58:52 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:58:52 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 20:59:05 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:59:05 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:59:05 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 20:59:05 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 20:59:05 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 20:59:05 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 20:59:05 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 20:59:05 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 20:59:05 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 20:59:05 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 20:59:05 --> Class list results count: 216
DEBUG - 2025-11-16 20:59:05 --> Class list results count: 216
DEBUG - 2025-11-16 20:59:05 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 20:59:05 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:00:50 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:00:50 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:00:50 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:00:50 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:00:50 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:00:50 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:00:50 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:00:50 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:00:50 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 21:00:50 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:00:51 --> Class list results count: 216
DEBUG - 2025-11-16 21:00:51 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:00:51 --> Class list results count: 216
DEBUG - 2025-11-16 21:00:51 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:00:51 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:00:52 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:02:50 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Route = admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:02:53 --> AuthFilter: Token validated successfully for route: admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Route = admin/self-registration/status/\App\Controllers\Admin\SelfRegistration::updateStatus
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token validated successfully for route: admin/self-registration/status/\App\Controllers\Admin\SelfRegistration::updateStatus
DEBUG - 2025-11-16 21:03:00 --> ðŸ”µ SelfRegistration::updateStatus() called
DEBUG - 2025-11-16 21:03:00 --> ðŸ”µ Payload received: {"registration_id":"6","status":"in_review","assigned_to_user_id":null,"priority":"normal","note":"","note_type":"internal","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Route = admin/self-registration/note/\App\Controllers\Admin\SelfRegistration::addNote
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:03:00 --> AuthFilter: Token validated successfully for route: admin/self-registration/note/\App\Controllers\Admin\SelfRegistration::addNote
DEBUG - 2025-11-16 21:03:13 --> AuthFilter: Route = admin/self-registration/course-decisions/\App\Controllers\Admin\SelfRegistration::updateCourseDecisions
DEBUG - 2025-11-16 21:03:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:03:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/course-decisions/\App\Controllers\Admin\SelfRegistration::updateCourseDecisions
DEBUG - 2025-11-16 21:03:13 --> SelfRegistration::updateCourseDecisions registration_id=6 incoming_decisions=[{"registration_course_id":"9","course_id":"3","decision_status":"approved","approved_schedule_id":"3","approved_fee_amount":275,"decision_notes":null,"approved_schedule_title":"AP Calculus (Saturday Class)","approved_schedule_start":"2024-09-21","approved_schedule_end":"2025-06-28"}] course_ids=["9"]
DEBUG - 2025-11-16 21:03:13 --> SelfRegistration::prepareCourseDecisions - available row ids=[9]
DEBUG - 2025-11-16 21:03:13 --> SelfRegistration::prepareCourseDecisions - evaluating decision={"registration_course_id":"9","course_id":"3","decision_status":"approved","approved_schedule_id":"3","approved_fee_amount":275,"decision_notes":null,"approved_schedule_title":"AP Calculus (Saturday Class)","approved_schedule_start":"2024-09-21","approved_schedule_end":"2025-06-28"} resolved_row_id=9
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:09:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:09:38 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:09:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:09:38 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:09:38 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:09:38 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:09:38 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:09:38 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 21:09:38 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:09:38 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:09:38 --> Class list results count: 216
DEBUG - 2025-11-16 21:09:38 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:09:38 --> Class list results count: 216
DEBUG - 2025-11-16 21:09:38 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:23 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:23 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:23 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:23 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:23 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:23 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:10:23 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:10:23 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 21:10:23 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:23 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:24 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:24 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:24 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:24 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:40 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:40 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:40 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:41 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2460","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:41 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:10:41 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:10:41 --> âœ… Guardians::list - Permission granted for student: 2460
DEBUG - 2025-11-16 21:10:41 --> ðŸ“ Guardians::list - No guardians found for student: 2460
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:41 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:41 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:41 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:41 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:41 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:10:44 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:10:45 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:45 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:45 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:10:45 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:10:45 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:10:45 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:10:45 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:10:45 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:10:45 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:10:45 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:10:45 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:10:45 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:10:45 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:45 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:10:45 --> Class list results count: 216
DEBUG - 2025-11-16 21:10:45 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:29 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:29 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:29 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:29 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:29 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:30 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:30 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:11:30 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:11:30 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:11:30 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:11:30 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:11:30 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:30 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:30 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:30 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:30 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:31 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:37 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:37 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:37 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:37 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:37 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:11:37 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:11:37 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:11:37 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:11:37 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:11:37 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:38 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:38 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:38 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:38 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:39 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:51 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:11:51 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:51 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:51 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:11:51 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:11:52 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:11:52 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:11:52 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:11:52 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:11:52 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:11:52 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:11:52 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:11:52 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:52 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:52 --> Class list results count: 216
DEBUG - 2025-11-16 21:11:52 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:52 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:11:53 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:12:02 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:12:02 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:12:02 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:12:02 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:12:02 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:12:02 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:12:02 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:12:02 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:12:02 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:12:02 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:12:02 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:12:02 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:12:03 --> Class list results count: 216
DEBUG - 2025-11-16 21:12:03 --> Class list results count: 216
DEBUG - 2025-11-16 21:12:03 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:12:03 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:12:03 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:12:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-11-16 21:38:29 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:38:29 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:38:29 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
WHERE `c`.`school_id` = '2'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-11-16 21:38:29 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"49","school_id":"2","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-11-16 21:38:29 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-11-16 21:38:30 --> ðŸ“¥ Guardians::list - Payload: {"school_id":"2","student_id":"2457","timezone":"America\/New_York"}
DEBUG - 2025-11-16 21:38:30 --> âœ… Guardians::list - Token validated successfully. Token data: {"user_id":"49","role_id":"2","school_id":"2","timestamp":1763325981}
DEBUG - 2025-11-16 21:38:30 --> ðŸ“ Guardians::list - User ID: 49, School ID: 2, Is Admin: no
DEBUG - 2025-11-16 21:38:30 --> âœ… Guardians::list - Permission granted for student: 2457
ERROR - 2025-11-16 21:38:30 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-11-16 21:38:30 --> âš ï¸ Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-11-16 21:38:30 --> âœ… Guardians::list - Returning 6 guardian(s)
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> Class list results count: 216
DEBUG - 2025-11-16 21:38:30 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:38:30 --> Class list results count: 216
DEBUG - 2025-11-16 21:38:30 --> First class: {"class_id":"1370","class_name":"New Test Class 2","subject":"20","grade":"57,55","start_date":"2025-11-11","end_date":"2025-12-06","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"9964C81E","batch_id":"","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"2","subject_name":"Algebra 2","grade_name":"3,5","no_of_students":"5","teacher_ids":"1575,2116","teacher_name":"Daisy Admin,Hema  "}
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-11-16 21:38:30 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
