DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": 8,
    "content_time_taken": 87,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": "0"
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "class_id": "1374",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 22:05:54 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:05:54",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 87
}
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:05:54', platform = 1, laq_id = '776', content_time_taken = 87 WHERE id = 8
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:05:54 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:05:54",
    "content_time_taken": "87",
    "platform": "1"
}
DEBUG - 2025-12-01 22:05:54 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '0', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:05:54' WHERE answer_id = '776' AND student_content_id = 8
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "0",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:05:54"
}
DEBUG - 2025-12-01 22:05:54 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:05:54 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:05:54 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": 8,
    "content_time_taken": 88,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": "0"
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "4",
    "class_id": "1374",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] status in request: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Status determination - Requested status: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:05:55",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 88
}
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:05:55', platform = 1, laq_id = '776', content_time_taken = 88 WHERE id = 8
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:05:55 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:05:55",
    "content_time_taken": "88",
    "platform": "1"
}
DEBUG - 2025-12-01 22:05:55 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '0', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:05:55' WHERE answer_id = '776' AND student_content_id = 8
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "0",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:05:55"
}
DEBUG - 2025-12-01 22:05:55 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:05:55 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:05:55 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:05:56 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-01 22:05:56 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:05:56 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:06:20 --> üì• Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:20 --> üìã TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:20 --> ‚úÖ Student Answer List returning 0 answer groups
DEBUG - 2025-12-01 22:06:20 --> ‚úÖ Teacher::studentAnswerList returning data
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:20 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:06:20 --> üì• Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:20 --> üìã TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:20 --> üîç Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 8 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-01 22:06:20 --> ‚úÖ Get Overall Feedback returned 0 records
DEBUG - 2025-12-01 22:06:20 --> ‚úÖ Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-01 22:06:24 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:06:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:24 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:06:24 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:24 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:24 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:06:24 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:06:24 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Route = student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token validated successfully for route: student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:06:28 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:06:28 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:06:28 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:06:28 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:06:28 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:06:28 -->    - question_id: 776
DEBUG - 2025-12-01 22:06:28 -->    - question_no: 1
DEBUG - 2025-12-01 22:06:28 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:06:28 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:06:28 -->    - question (type): string
DEBUG - 2025-12-01 22:06:28 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:06:28 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:06:28 -->    - question (length): 14
DEBUG - 2025-12-01 22:06:28 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:06:28 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:06:28 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:28 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:06:45 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:06:45 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:06:45 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:06:45 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:06:45 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:06:45 -->    - question_id: 776
DEBUG - 2025-12-01 22:06:45 -->    - question_no: 1
DEBUG - 2025-12-01 22:06:45 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:06:45 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:06:45 -->    - question (type): string
DEBUG - 2025-12-01 22:06:45 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:06:45 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:06:45 -->    - question (length): 14
DEBUG - 2025-12-01 22:06:45 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:06:45 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:06:45 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:06:45 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:06:45 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:06:45 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:20 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:09:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:21 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:09:21 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:21 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:21 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:09:21 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:09:21 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:09:22 -->    - question_id: 776
DEBUG - 2025-12-01 22:09:22 -->    - question_no: 1
DEBUG - 2025-12-01 22:09:22 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:09:22 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 -->    - question (type): string
DEBUG - 2025-12-01 22:09:22 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:09:22 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:09:22 -->    - question (length): 14
DEBUG - 2025-12-01 22:09:22 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:09:22 -->    - question_id: 776
DEBUG - 2025-12-01 22:09:22 -->    - question_no: 1
DEBUG - 2025-12-01 22:09:22 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:09:22 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 -->    - question (type): string
DEBUG - 2025-12-01 22:09:22 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:09:22 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:09:22 -->    - question (length): 14
DEBUG - 2025-12-01 22:09:22 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:09:22 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:09:22 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:22 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:44 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:09:44 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:44 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:09:44 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:44 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:44 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:09:44 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:09:44 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:09:46 -->    - question_id: 776
DEBUG - 2025-12-01 22:09:46 -->    - question_no: 1
DEBUG - 2025-12-01 22:09:46 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:09:46 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 -->    - question (type): string
DEBUG - 2025-12-01 22:09:46 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:09:46 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:09:46 -->    - question (length): 14
DEBUG - 2025-12-01 22:09:46 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:09:46 -->    - question_id: 776
DEBUG - 2025-12-01 22:09:46 -->    - question_no: 1
DEBUG - 2025-12-01 22:09:46 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:09:46 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 -->    - question (type): string
DEBUG - 2025-12-01 22:09:46 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:09:46 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:09:46 -->    - question (length): 14
DEBUG - 2025-12-01 22:09:46 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:09:46 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:09:46 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:09:46 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:10:19 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:10:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:10:19 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:10:19 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:10:19 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:10:19 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:10:19 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:10:19 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:10:20 -->    - question_id: 776
DEBUG - 2025-12-01 22:10:20 -->    - question_no: 1
DEBUG - 2025-12-01 22:10:20 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:10:20 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 -->    - question (type): string
DEBUG - 2025-12-01 22:10:20 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:10:20 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:10:20 -->    - question (length): 14
DEBUG - 2025-12-01 22:10:20 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:10:20 -->    - question_id: 776
DEBUG - 2025-12-01 22:10:20 -->    - question_no: 1
DEBUG - 2025-12-01 22:10:20 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:10:20 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 -->    - question (type): string
DEBUG - 2025-12-01 22:10:20 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:10:20 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:10:20 -->    - question (length): 14
DEBUG - 2025-12-01 22:10:20 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:10:20 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:10:20 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:10:20 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:13:55 -->    - question_id: 776
DEBUG - 2025-12-01 22:13:55 -->    - question_no: 1
DEBUG - 2025-12-01 22:13:55 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:13:55 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 -->    - question (type): string
DEBUG - 2025-12-01 22:13:55 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:13:55 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:13:55 -->    - question (length): 14
DEBUG - 2025-12-01 22:13:55 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:13:55 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:13:55 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:13:55 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:13:55 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:13:55 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:13:55 -->    - question_id: 776
DEBUG - 2025-12-01 22:13:55 -->    - question_no: 1
DEBUG - 2025-12-01 22:13:55 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:13:55 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 -->    - question (type): string
DEBUG - 2025-12-01 22:13:55 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:13:55 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:13:55 -->    - question (length): 14
DEBUG - 2025-12-01 22:13:55 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:13:55 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:13:55 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:13:55 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:17:34 --> üì• Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:17:34 --> üìã TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:17:34 --> ‚úÖ Student Answer List returning 0 answer groups
DEBUG - 2025-12-01 22:17:34 --> ‚úÖ Teacher::studentAnswerList returning data
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:17:34 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:17:34 --> üì• Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:17:34 --> üìã TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:17:34 --> üîç Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 8 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-01 22:17:34 --> ‚úÖ Get Overall Feedback returned 0 records
DEBUG - 2025-12-01 22:17:34 --> ‚úÖ Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-01 22:18:01 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:18:01 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:01 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 22:18:01 --> üìã Found 1 questions
DEBUG - 2025-12-01 22:18:01 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 22:18:01 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:01 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:01 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:01 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:01 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 22:18:18 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:18:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:18:18 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:18:18 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:18:18 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"class_content_id":"9","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:18:18 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id AND class_content_id = '9') END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id AND class_content_id = '9') END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                     AND class_content_id = '9' 
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:18:18 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:18:18 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:18:18 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:19 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 22:18:19 --> üìã Found 1 questions
DEBUG - 2025-12-01 22:18:19 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 22:18:19 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:19 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:19 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:19 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:19 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:18:19 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:18:19 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:18:19 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:18:19 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:18:19 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:18:19 -->    - question_id: 776
DEBUG - 2025-12-01 22:18:19 -->    - question_no: 1
DEBUG - 2025-12-01 22:18:19 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:18:19 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:18:19 -->    - question (type): string
DEBUG - 2025-12-01 22:18:19 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:18:19 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:18:19 -->    - question (length): 14
DEBUG - 2025-12-01 22:18:19 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:18:19 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:18:19 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:18:19 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 22:18:19 --> üìã Found 1 questions
DEBUG - 2025-12-01 22:18:19 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 22:18:19 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:19 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:19 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:18:19 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:18:19 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:18:19 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": 8,
    "content_time_taken": 30,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "class_id": "1374",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 22:18:49 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:18:49",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 30
}
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:18:49', platform = 1, laq_id = '776', content_time_taken = 30 WHERE id = 8
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:18:49 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:18:49",
    "content_time_taken": "30",
    "platform": "1"
}
DEBUG - 2025-12-01 22:18:49 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:18:49' WHERE answer_id = '776' AND student_content_id = 8
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:18:49"
}
DEBUG - 2025-12-01 22:18:49 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:18:49 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:18:49 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-01 22:19:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:19:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:19:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": 8,
    "content_time_taken": 60,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "class_id": "1374",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 22:19:19 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:19:19",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 60
}
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:19:19', platform = 1, laq_id = '776', content_time_taken = 60 WHERE id = 8
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:19:19 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:19:19",
    "content_time_taken": "60",
    "platform": "1"
}
DEBUG - 2025-12-01 22:19:19 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:19:19' WHERE answer_id = '776' AND student_content_id = 8
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:19:19"
}
DEBUG - 2025-12-01 22:19:19 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:19:19 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:19:19 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:19:25 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:19:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:25 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-01 22:19:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:19:25 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:19:26 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-01 22:19:26 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:26 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-01 22:19:33 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:19:34 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:19:34 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:19:34 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:19:34 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-01'
AND `c`.`end_date` >= '2025-12-01'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:19:34 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:19:34 --> Class list results count: 1
DEBUG - 2025-12-01 22:19:34 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:19:34 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-01'
AND `c`.`end_date` >= '2025-12-01'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:19:34 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:19:34 --> Class list results count: 1
DEBUG - 2025-12-01 22:19:34 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:19:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:19:38 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
WARNING - 2025-12-01 22:19:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:19:38 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:19:38 --> Class list results count: 1
DEBUG - 2025-12-01 22:19:38 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Route = admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:38 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:19:38 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token validated successfully for route: admin/self-registration/timeline/\App\Controllers\Admin\SelfRegistration::timeline
DEBUG - 2025-12-01 22:19:38 --> Class list results count: 1
DEBUG - 2025-12-01 22:19:38 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:19:38 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: crm/fees/plans/\App\Controllers\Admin\Fees::listPlans
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: student/studentAllClassList/\App\Controllers\Student::studentAllClassList
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> üì• Guardians::list - Payload: {"school_id":"59","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:19:39 --> ‚úÖ Guardians::list - Token validated successfully. Token data: {"user_id":"2478","role_id":"2","school_id":"59","timestamp":1764627565}
DEBUG - 2025-12-01 22:19:39 --> üìù Guardians::list - User ID: 2478, School ID: 59, Is Admin: no
DEBUG - 2025-12-01 22:19:39 --> ‚úÖ Guardians::list - Permission granted for student: 2488
DEBUG - 2025-12-01 22:19:39 --> üìù Guardians::list - No guardians found for student: 2488
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: crm/fees/student-overview/\App\Controllers\Admin\Fees::studentOverview
DEBUG - 2025-12-01 22:19:39 --> Filtering transactions by school_id=59 for student_id=2488
DEBUG - 2025-12-01 22:19:39 --> Querying transactions: student_id=2488, school_id=59, filters={"school_id":59}. Total transactions in DB for this student: 0
DEBUG - 2025-12-01 22:19:39 --> Found 0 transactions for student_id=2488 after filtering
DEBUG - 2025-12-01 22:19:39 --> Custom Items Calculation - Student: 2488, School: 59, Date: 2025-12-01, Total: 0.00
INFO - 2025-12-01 22:19:39 --> Balance Calculation (TODAY) - Student: 2488 | Expected Fees (Today): 500.00, Custom Items: 0.00, Total Billing: 500.00, Paid: 0.00, Balance: 500.00
INFO - 2025-12-01 22:19:39 --> Balance Calculation - Included Assignments: [{"id":"48","start_date":"2025-11-24","end_date":null,"enrollment_date":"2025-11-24","amount":500}] | Total Invoiced: 0.00 (NOT USED), Expected Fees: 500.00, Custom Items: 0.00, Total Billing: 500.00, Paid: 0.00, Balance: 500.00
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: student/attendanceDetail/\App\Controllers\Student::attendanceDetail
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Route = admin/student-custom-items/list/\App\Controllers\Admin\StudentCustomItems::list
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:39 --> AuthFilter: Token validated successfully for route: admin/student-custom-items/list/\App\Controllers\Admin\StudentCustomItems::list
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Route = admin/student-custom-items/list/\App\Controllers\Admin\StudentCustomItems::list
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Token validated successfully for route: admin/student-custom-items/list/\App\Controllers\Admin\StudentCustomItems::list
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Route = admin/student-courses/list/\App\Controllers\Admin\StudentCourses::list
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:41 --> AuthFilter: Token validated successfully for route: admin/student-courses/list/\App\Controllers\Admin\StudentCourses::list
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:19:47 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:22:34 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:22:34 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:34 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:22:34 --> üì• Guardians::list - Payload: {"school_id":"59","search":null,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:22:34 --> ‚úÖ Guardians::list - Token validated successfully. Token data: {"user_id":"2478","role_id":"2","school_id":"59","timestamp":1764627565}
DEBUG - 2025-12-01 22:22:34 --> üìù Guardians::list - User ID: 2478, School ID: 59, Is Admin: no
ERROR - 2025-12-01 22:22:34 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-01 22:22:34 --> ‚ö†Ô∏è Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-12-01 22:22:34 --> ‚úÖ Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-12-01 22:22:42 --> AuthFilter: Route = crm/followups/list-by-owner/\App\Controllers\Admin\FollowUps::listByOwner
DEBUG - 2025-12-01 22:22:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:42 --> AuthFilter: Token validated successfully for route: crm/followups/list-by-owner/\App\Controllers\Admin\FollowUps::listByOwner
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Route = crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token validated successfully for route: crm/guardians/list/\App\Controllers\Admin\Guardians::list
DEBUG - 2025-12-01 22:22:48 --> üì• Guardians::list - Payload: {"school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:22:48 --> ‚úÖ Guardians::list - Token validated successfully. Token data: {"user_id":"2478","role_id":"2","school_id":"59","timestamp":1764627565}
DEBUG - 2025-12-01 22:22:48 --> üìù Guardians::list - User ID: 2478, School ID: 59, Is Admin: no
ERROR - 2025-12-01 22:22:48 --> mysqli_sql_exception: Table 'edquill_production.students' doesn't exist in /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php:327
Stack trace:
#0 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.php(327): mysqli->query('SELECT `id`, `f...', 0)
#1 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `id`, `f...')
#2 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `id`, `f...')
#3 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Database/BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `id`, `f...', Array, false)
#4 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Model.php(286): CodeIgniter\Database\BaseBuilder->get()
#5 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/BaseModel.php(675): CodeIgniter\Model->doFindAll(0, 0)
#6 /Applications/MAMP/htdocs/rista_ci4/app/Controllers/Admin/Guardians.php(139): CodeIgniter\BaseModel->findAll()
#7 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(933): App\Controllers\Admin\Guardians->list()
#8 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin\Guardians))
#9 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(334): CodeIgniter\CodeIgniter->run()
#11 /Applications/MAMP/htdocs/rista_ci4/vendor/codeigniter4/framework/system/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 /Applications/MAMP/htdocs/rista_ci4/public/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
WARNING - 2025-12-01 22:22:48 --> ‚ö†Ô∏è Guardians::list - Unable to load student reference data: Table 'edquill_production.students' doesn't exist
DEBUG - 2025-12-01 22:22:48 --> ‚úÖ Guardians::list - Returning 2 guardian(s)
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Route = crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Route = crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token validated successfully for route: crm/notifications/list/\App\Controllers\Admin\Notifications::list
DEBUG - 2025-12-01 22:22:48 --> AuthFilter: Token validated successfully for route: crm/notifications/templates/\App\Controllers\Admin\Notifications::templates
DEBUG - 2025-12-01 22:22:56 --> AuthFilter: Route = crm/report/exams/\App\Controllers\Admin\ReportCards::listExams
DEBUG - 2025-12-01 22:22:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:22:56 --> AuthFilter: Token validated successfully for route: crm/report/exams/\App\Controllers\Admin\ReportCards::listExams
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:07 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-12-01 22:23:13 --> SelfRegistrationModel::getRegistrationWithRelations - registration_id=26, courses_count=1, schedule_ids=["1374"]
DEBUG - 2025-12-01 22:23:13 --> SelfRegistrationModel::enrichCourseSelections - course_id=61, original_schedule_id=1374, approved_schedule_id=1374, selected_schedule_id=1374
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Route = admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Route = admin/self-registration/attribute-config/load/\App\Controllers\Admin\SelfRegistrationAttributeConfig::load
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token validated successfully for route: admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-12-01 22:23:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/attribute-config/load/\App\Controllers\Admin\SelfRegistrationAttributeConfig::load
DEBUG - 2025-12-01 22:23:13 --> CourseFeePlanModel::getFeeForCourse - course_id=61, school_id=59, fee_term=2, billing_cycle_days=30
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
WARNING - 2025-12-01 22:23:48 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:23:48 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:48 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
WARNING - 2025-12-01 22:23:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:23:49 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:23:49 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-01 22:23:51 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
ERROR - 2025-12-01 22:23:51 --> Model mailbox_model not found
ERROR - 2025-12-01 22:23:51 --> Model common_model not found
WARNING - 2025-12-01 22:23:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:23:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-01 22:23:51 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:24:02 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-01 22:24:02 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:24:02 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
ERROR - 2025-12-01 22:24:03 --> Model mailbox_model not found
ERROR - 2025-12-01 22:24:03 --> Model common_model not found
WARNING - 2025-12-01 22:24:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:24:03 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-01 22:24:03 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:24:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:24:04 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-01 22:24:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:24:04 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Route = admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/detail/\App\Controllers\Admin\SelfRegistration::detail
DEBUG - 2025-12-01 22:24:24 --> SelfRegistrationModel::getRegistrationWithRelations - registration_id=25, courses_count=1, schedule_ids=["1374"]
DEBUG - 2025-12-01 22:24:24 --> SelfRegistrationModel::enrichCourseSelections - course_id=61, original_schedule_id=1374, approved_schedule_id=null, selected_schedule_id=1374
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Route = admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token validated successfully for route: admin/student-courses/fee-preview/\App\Controllers\Admin\StudentCourses::feePreview
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Route = admin/self-registration/attribute-config/load/\App\Controllers\Admin\SelfRegistrationAttributeConfig::load
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:24:24 --> CourseFeePlanModel::getFeeForCourse - course_id=61, school_id=59, fee_term=2, billing_cycle_days=30
DEBUG - 2025-12-01 22:24:24 --> AuthFilter: Token validated successfully for route: admin/self-registration/attribute-config/load/\App\Controllers\Admin\SelfRegistrationAttributeConfig::load
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:29:12 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-01 22:29:12 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:29:12 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Route = student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Route = mailbox/listMessages/\App\Controllers\Mailbox::listMessages
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token validated successfully for route: student/classDetail/\App\Controllers\Classes::classDetail
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token validated successfully for route: mailbox/listMessages/\App\Controllers\Mailbox::listMessages
ERROR - 2025-12-01 22:29:13 --> Model mailbox_model not found
ERROR - 2025-12-01 22:29:13 --> Model common_model not found
WARNING - 2025-12-01 22:29:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$allowedRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 89.
 1 APPPATH/Controllers/Mailbox.php(59): App\Controllers\Mailbox->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:29:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\Mailbox::$excludeRoutes is deprecated in APPPATH/Controllers/Mailbox.php on line 112.
 1 APPPATH/Controllers/Mailbox.php(62): App\Controllers\Mailbox->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(903): App\Controllers\Mailbox->__construct()
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2025-12-01 22:29:13 --> Error: Call to a member function checkPermission() on null
[Method: POST, Route: mailbox/listMessages]
in APPPATH/Controllers/Mailbox.php on line 345.
 1 APPPATH/Controllers/Mailbox.php(253): App\Controllers\Mailbox->listMessages_post()
 2 SYSTEMPATH/CodeIgniter.php(933): App\Controllers\Mailbox->listMessages()
 3 SYSTEMPATH/CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Mailbox))
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Route = admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Route = admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/list/\App\Controllers\Admin\SelfRegistration::list
WARNING - 2025-12-01 22:29:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:29:13 --> AuthFilter: Token validated successfully for route: admin/self-registration/assignees/\App\Controllers\Admin\SelfRegistration::assignees
WARNING - 2025-12-01 22:29:13 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:51:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:41 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:41 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:41 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:41 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:41 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:41 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:41 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:41 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:51:41 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:51:41 --> üîç PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-12-01 22:51:41 --> üîç PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:41 --> üîç PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-12-01 22:51:41 --> üì¶ PAGINATION - Backend returning 10 records
DEBUG - 2025-12-01 22:51:41 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:51:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:51:41 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:51:44 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:51:44 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:51:44 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:51:44 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:51:44 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-01'
AND `c`.`end_date` >= '2025-12-01'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:44 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:44 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
AND `c`.`start_date` <= '2025-12-01'
AND `c`.`end_date` >= '2025-12-01'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:44 --> Class list params: {"platform":"web","type":"3","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","grade":[],"subject":[],"classroom":"","page_no":1,"records_per_page":"10","search":"","student_search":"","course_id":[],"day_filter":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:44 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:44 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:44 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:44 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:49 --> üîç PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-12-01 22:51:49 --> üîç PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:49 --> üîç PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-12-01 22:51:49 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:49 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:49 --> üì¶ PAGINATION - Backend returning 10 records
DEBUG - 2025-12-01 22:51:49 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:51:49 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:51:49 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:49 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:49 --> Class list results count: 1
DEBUG - 2025-12-01 22:51:49 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:51:49 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:51:49 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:51:49 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:51:49 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:51:49 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> üìä Report::gradeReport - Returning class list for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:00 --> ‚úÖ Report::gradeReport returning 1 classes for filter
DEBUG - 2025-12-01 22:54:09 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:54:09 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Route = teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token validated successfully for route: teacher/studentAssessment/\App\Controllers\Teacher::studentAssessment
DEBUG - 2025-12-01 22:54:09 --> üì• Teacher::studentAssessment called with params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:09 --> üìã TeacherModel::studentAssessment called with contentType: 2, params: {"platform":"web","type":"0","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","status":"0","content_type":2,"search_content":"","class_id":"0","pageno":1,"recordsperpage":"20","search":"","date_search":"","batch_id":"","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:09 --> üîç Student Assessment Query: SELECT s.student_content_id, s.student_id, COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name,
                    s.content_id, s.content_name, s.class_id, s.class_name, s.content_start_date, s.content_end_date, s.content_type,
                    s.student_content_status, s.content_format, s.total_score, s.obtained_score, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    (CASE WHEN CURRENT_DATE > s.content_end_date AND s.content_end_date != '0000-00-00' 
                     AND s.student_content_status < 3 THEN DATEDIFF(CURRENT_DATE(), s.content_end_date) ELSE 0 END) as overDue,
                    DATE_FORMAT(s.correction_completed_date,'%m-%d-%Y') as correction_completed_date,
                    s.student_content_status as status, s.score_released, s.sys_time ,DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date
                    FROM student_work as s 
                    LEFT JOIN class as c ON s.class_id = c.class_id 
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                     
                    WHERE c.school_id = 59 
                    AND s.content_type = 2
                       AND s.student_content_status IN (1,2,3,4,5,6)    
                    AND s.content_start_date <= CURRENT_DATE() 
                    ORDER BY s.sys_time DESC
DEBUG - 2025-12-01 22:54:09 --> ‚úÖ Student Assessment returned 0 records
DEBUG - 2025-12-01 22:54:09 --> ‚úÖ Teacher::studentAssessment returning 0 records
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Route = teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:09 --> AuthFilter: Token validated successfully for route: teacher/studentCorrectionList/\App\Controllers\Teacher::studentCorrectionList
DEBUG - 2025-12-01 22:54:12 --> AuthFilter: Route = teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-12-01 22:54:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:12 --> AuthFilter: Token validated successfully for route: teacher/recentSubmissions/\App\Controllers\Teacher::recentSubmissions
DEBUG - 2025-12-01 22:54:12 --> üì• Teacher::recentSubmissions called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","status":1,"limit":25,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:12 --> üîç recentSubmissions Query: SELECT 
                    s.student_content_id,
                    s.student_id,
                    COALESCE(up.profile_url,'') AS student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) AS student_name,
                    s.content_id,
                    s.content_name,
                    s.class_id,
                    s.class_name,
                    s.content_type,
                    s.content_format,
                    s.student_content_status,
                    s.total_score,
                    s.obtained_score,
                    DATE_FORMAT(s.content_start_date, '%Y-%m-%d') AS content_start_date,
                    DATE_FORMAT(s.content_end_date, '%Y-%m-%d') AS content_end_date,
                    DATE_FORMAT(s.answer_completed_date, '%Y-%m-%d %H:%i:%s') AS answer_completed_date,
                    DATE_FORMAT(s.correction_completed_date, '%Y-%m-%d %H:%i:%s') AS correction_completed_date,
                    DATE_FORMAT(s.score_release_date, '%Y-%m-%d %H:%i:%s') AS score_release_date,
                    s.sys_time
                FROM student_work s
                LEFT JOIN class c ON c.class_id = s.class_id
                LEFT JOIN user_profile up ON up.user_id = s.student_id
                
                WHERE c.school_id = 59
                AND s.content_type IN (2,3)
                AND s.student_content_status IN (4,6)
                
                
                
                
                ORDER BY 
                    CASE WHEN s.answer_completed_date IS NULL OR s.answer_completed_date = '0000-00-00 00:00:00' THEN 1 ELSE 0 END,
                    s.answer_completed_date DESC,
                    s.sys_time DESC
                LIMIT 25
DEBUG - 2025-12-01 22:54:12 --> ‚úÖ recentSubmissions returned 0 rows
DEBUG - 2025-12-01 22:54:14 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:54:14 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:54:14 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-12-01 22:54:14 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:14 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-12-01 22:54:14 --> üì• Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:14 --> üìã TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:14 --> üîç Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=59 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-12-01 22:54:14 --> ‚úÖ Assessment List returned 4 records
DEBUG - 2025-12-01 22:54:14 --> ‚úÖ Teacher::assessmentList returning 4 records
DEBUG - 2025-12-01 22:54:20 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:54:20 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:20 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:54:20 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:20 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:20 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:54:20 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:54:20 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:54:21 --> üì• Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:21 --> üìã TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:21 --> ‚úÖ Student Answer List returning 0 answer groups
DEBUG - 2025-12-01 22:54:21 --> ‚úÖ Teacher::studentAnswerList returning data
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:54:21 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:54:21 --> üì• Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:21 --> üìã TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:54:21 --> üîç Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 8 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-01 22:54:21 --> ‚úÖ Get Overall Feedback returned 0 records
DEBUG - 2025-12-01 22:54:21 --> ‚úÖ Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-01 22:56:54 --> AuthFilter: Route = api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-01 22:56:54 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:56:54 --> AuthFilter: Token validated successfully for route: api/dashboard/\App\Controllers\Admin\Dashboard::getDashboard
DEBUG - 2025-12-01 22:56:56 --> üîç PAGINATION - Content::sortMaster received params: page_no=1, records_per_page=10
DEBUG - 2025-12-01 22:56:56 --> üîç PAGINATION - All params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","sort_by":"0","content_user_id":"0","type":"list","page_no":1,"records_per_page":10,"library":"0","tags":[],"grade":[],"subject":[],"exact_search":0,"search_name":"","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:56:56 --> üîç PAGINATION - Backend applying LIMIT: records=10, offset=0, page=1
DEBUG - 2025-12-01 22:56:56 --> üì¶ PAGINATION - Backend returning 10 records
DEBUG - 2025-12-01 22:56:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:56:56 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:56:56 --> Class list query: SELECT DISTINCT `c`.`class_id`, `c`.`class_name`, `c`.`subject`, `c`.`grade`, `c`.`start_date`, `c`.`end_date`, `c`.`status`, `c`.`class_status`, `c`.`class_type`, `c`.`tags`, `c`.`class_code`, `c`.`batch_id`, `c`.`meeting_link`, `c`.`meeting_id`, `c`.`passcode`, `c`.`announcement_type`, `c`.`course_id`, COALESCE(tc.course_name, "") as course_name, (SELECT GROUP_CONCAT(subject_name) FROM subject WHERE FIND_IN_SET(subject_id, c.subject)) as subject_name, (SELECT GROUP_CONCAT(grade_name) FROM grade WHERE FIND_IN_SET(grade_id, c.grade)) as grade_name, (SELECT COUNT(*) FROM student_class sc 
                              WHERE sc.class_id = c.class_id AND sc.status = 1) as no_of_students, (SELECT GROUP_CONCAT(DISTINCT teacher_id) FROM class_schedule 
                              WHERE class_id = c.class_id) as teacher_ids, (SELECT CONCAT_WS(", ", GROUP_CONCAT(DISTINCT CONCAT_WS(" ", `up`.`first_name`, up.last_name)))
                              FROM class_schedule cs2
                              LEFT JOIN user_profile up ON FIND_IN_SET(up.user_id, cs2.teacher_id) > 0
                              WHERE cs2.class_id = c.class_id) as teacher_name
FROM `class` `c`
LEFT JOIN `tbl_course` `tc` ON `tc`.`course_id` = `c`.`course_id` AND `tc`.`entity_id` = `c`.`school_id`
WHERE `c`.`school_id` = '59'
AND `c`.`status` = '1'
ORDER BY `c`.`class_id` DESC
DEBUG - 2025-12-01 22:56:56 --> Class list params: {"platform":"web","type":"5","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:56:56 --> Class list results count: 1
DEBUG - 2025-12-01 22:56:56 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:56:56 --> Class list results count: 1
DEBUG - 2025-12-01 22:56:56 --> First class: {"class_id":"1374","class_name":"English Class Nov","subject":"400","grade":"603","start_date":"2025-11-23","end_date":"2026-08-01","status":"1","class_status":"0","class_type":"2","tags":"","class_code":"770666EC","batch_id":"1294","meeting_link":"","meeting_id":"","passcode":"","announcement_type":"3","course_id":"61","course_name":"English Speaking","subject_name":"English","grade_name":"Intermediate","no_of_students":"4","teacher_ids":"2479","teacher_name":"English 1Teacher"}
DEBUG - 2025-12-01 22:56:56 --> AuthFilter: Route = user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:56:56 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:56:56 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:56:56 --> AuthFilter: Token validated successfully for route: user/getUserDetail/\App\Controllers\User::getUserDetail
DEBUG - 2025-12-01 22:56:56 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:56:59 --> üîç ClassesModel::getTeacherList query: SELECT DISTINCT u.user_id AS teacher_id, 
                    CONCAT_WS(' ', up.first_name, up.last_name) AS teacher_name,
                    up.profile_url
                    FROM user u
                    INNER JOIN user_profile up ON u.user_id = up.user_id
                    WHERE u.role_id = 4 
                    AND u.school_id = ? 
                    AND u.status = 1
                    ORDER BY up.first_name with school_id: 59
DEBUG - 2025-12-01 22:56:59 --> ‚úÖ ClassesModel::getTeacherList found 1 teachers for school_id: 59
DEBUG - 2025-12-01 22:57:00 --> AuthFilter: Route = teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-12-01 22:57:00 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:00 --> AuthFilter: Token validated successfully for route: teacher/assessmentList/\App\Controllers\Teacher::assessmentList
DEBUG - 2025-12-01 22:57:00 --> üì• Teacher::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:00 --> üìã TeacherModel::assessmentList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","teacher_id":"0","type":2,"sort":1,"class_id":"0","batch_id":"0","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:00 --> üîç Assessment List Query: SELECT co.content_id, co.name AS content_name, co.school_id, co.subject, co.grade, 
                    cc.class_id,
                    (SELECT class_name FROM class WHERE class_id = cc.class_id) AS class_name,
                    COALESCE(co.profile_url, '') AS profile_url,
                    COALESCE(co.profile_thumb_url, '') AS profile_thumb_url, 
                    COALESCE(co.links,'') AS links,
                    co.status AS content_status, 
                    cc.start_date,
                    cc.end_date, 
                    cc.start_time, 
                    TIME_FORMAT(cc.end_time, '%h:%i:%p') as end_time,
                    cc.created_by, 
                    cc.created_date, 
                    co.content_format,
                    co.content_type,
                    COALESCE(co.tags,'') AS tags,
                    co.access,
                    (CASE 
                        WHEN cc.start_date > CURRENT_DATE() THEN 1 
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date = '0000-00-00' THEN 2
                        WHEN cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() THEN 2 
                        WHEN cc.end_date < CURRENT_DATE() THEN 3 
                    END) AS status,
                    '' as student_ids
                    FROM class_content AS cc 
                    LEFT JOIN content AS co ON cc.content_id = co.content_id 
                    LEFT JOIN class AS c ON cc.class_id = c.class_id
                    WHERE cc.school_id=59 
                    AND c.status = 1
                    AND co.content_type = 3 
                    AND cc.status = 1 
                     
                    
                     
                    AND (cc.start_date <= CURRENT_DATE() AND cc.end_date >= CURRENT_DATE() OR cc.end_date = '0000-00-00') 
                    ORDER BY cc.start_date DESC
DEBUG - 2025-12-01 22:57:00 --> ‚úÖ Assessment List returned 4 records
DEBUG - 2025-12-01 22:57:00 --> ‚úÖ Teacher::assessmentList returning 4 records
DEBUG - 2025-12-01 22:57:01 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:57:01 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:01 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:57:01 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:01 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:01 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:57:01 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:57:01 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:57:03 --> üì• Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:03 --> üìã TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:03 --> ‚úÖ Student Answer List returning 0 answer groups
DEBUG - 2025-12-01 22:57:03 --> ‚úÖ Teacher::studentAnswerList returning data
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:03 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:57:03 --> üì• Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:03 --> üìã TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:03 --> üîç Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 8 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-01 22:57:03 --> ‚úÖ Get Overall Feedback returned 0 records
DEBUG - 2025-12-01 22:57:03 --> ‚úÖ Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-01 22:57:18 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:57:18 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:18 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:57:19 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-01 22:57:19 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:57:19 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Route = student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token validated successfully for route: student/checkContentTime/\App\Controllers\Student::checkContentTime
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Route = student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token validated successfully for route: student/updateContentStartTime/\App\Controllers\Student::updateContentStartTime
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line ,COALESCE((SELECT COALESCE(student_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer,
                            COALESCE((SELECT COALESCE(jiixdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as jiixdata,
                            COALESCE((SELECT COALESCE(roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as roughdata,
                            COALESCE((SELECT COALESCE(rough_image_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_url,
                            COALESCE((SELECT COALESCE(rough_image_thumb_url,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as rough_image_thumb_url,
                            COALESCE((SELECT COALESCE(student_answer_image,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_answer_image,
                            COALESCE((SELECT COALESCE(student_roughdata,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_roughdata,
                           (SELECT status FROM student_content WHERE id = 8) as student_content_status,
                           COALESCE((SELECT COALESCE(annotation,'') FROM student_content WHERE id = 8),'') as student_annotation,
                           COALESCE((select suggestion_query from student_suggestions where content_id=17 AND class_id = 1374 AND student_id = 2488 AND answer_id = a.answer_id),'') as student_feedback,
                           COALESCE((SELECT COALESCE(editor_answer,'') FROM student_answers WHERE student_content_id = 8 AND answer_id = a.answer_id),'') as student_editor_answer
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_content_id":8,"class_content_id":"9","student_id":"2488","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:57:21 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:57:21 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:57:21 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:57:21 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:57:21 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:57:21 -->    - question_id: 776
DEBUG - 2025-12-01 22:57:21 -->    - question_no: 1
DEBUG - 2025-12-01 22:57:21 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:57:21 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:57:21 -->    - question (type): string
DEBUG - 2025-12-01 22:57:21 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:57:21 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:57:21 -->    - question (length): 14
DEBUG - 2025-12-01 22:57:21 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:57:21 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Added student_content_status: 4
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] - student_content_status: 4
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:57:21 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Route = common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:21 --> AuthFilter: Token validated successfully for route: common/settingList/\App\Controllers\Common::settingList
DEBUG - 2025-12-01 22:57:33 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:57:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:33 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 22:57:33 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 22:57:33 --> üìã Found 1 questions
DEBUG - 2025-12-01 22:57:33 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 22:57:33 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:57:33 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:57:33 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 22:57:33 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 22:57:33 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:57:36 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:57:36 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:57:36 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:57:36 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:57:36 -->    - question_id: 776
DEBUG - 2025-12-01 22:57:36 -->    - question_no: 1
DEBUG - 2025-12-01 22:57:36 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:57:36 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:57:36 -->    - question (type): string
DEBUG - 2025-12-01 22:57:36 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:57:36 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:57:36 -->    - question (length): 14
DEBUG - 2025-12-01 22:57:36 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:57:36 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:57:36 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 3,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": "[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]"
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 22:57:36 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:57:36",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 3
}
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:57:36', platform = 1, laq_id = '776', content_time_taken = 3 WHERE id = '8'
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:57:36 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:57:36",
    "content_time_taken": "3",
    "platform": "1"
}
DEBUG - 2025-12-01 22:57:36 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:57:36' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:57:36"
}
DEBUG - 2025-12-01 22:57:36 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:57:36 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:57:36 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 22:57:38 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 22:57:38 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 22:57:38 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 22:57:38 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 22:57:38 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 22:57:38 -->    - question_id: 776
DEBUG - 2025-12-01 22:57:38 -->    - question_no: 1
DEBUG - 2025-12-01 22:57:38 -->    - question_type_id: 1
DEBUG - 2025-12-01 22:57:38 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 22:57:38 -->    - question (type): string
DEBUG - 2025-12-01 22:57:38 -->    - question (is_null): NO
DEBUG - 2025-12-01 22:57:38 -->    - question (is_empty): NO
DEBUG - 2025-12-01 22:57:38 -->    - question (length): 14
DEBUG - 2025-12-01 22:57:38 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 22:57:38 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 22:57:38 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 22:57:38 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 4,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": "[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]"
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "4",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] status in request: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Status determination - Requested status: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Status change blocked - keeping current status: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 22:57:38",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 4
}
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 22:57:38', platform = 1, laq_id = '776', content_time_taken = 4 WHERE id = '8'
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 22:57:38 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 22:57:38",
    "content_time_taken": "4",
    "platform": "1"
}
DEBUG - 2025-12-01 22:57:38 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 22:57:38' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "[{\"options\":\"aa\",\"isSelected\":\"0\"},{\"options\":\"bb\",\"isSelected\":\"\"},{\"options\":\"cc\",\"isSelected\":\"\"},{\"options\":\"dd\",\"isSelected\":\"\"}]",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 22:57:38"
}
DEBUG - 2025-12-01 22:57:38 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 22:57:38 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 22:57:38 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:57:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-01 22:57:39 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 22:57:39 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 22:58:09 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:58:09 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:58:09 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 22:58:09 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:09 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:09 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 22:58:09 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 22:58:09 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Route = teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Token validated successfully for route: teacher/studentAnswerList/\App\Controllers\Teacher::studentAnswerList
DEBUG - 2025-12-01 22:58:12 --> üì• Teacher::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:12 --> üìã TeacherModel::studentAnswerList called with params: {"platform":"web","role_id":"2","user_id":"2478","school_id":"59","content_id":"17","content_format":"3","class_id":"1374","student_id":"2488","student_content_id":"8","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:12 --> ‚úÖ Student Answer List returning 0 answer groups
DEBUG - 2025-12-01 22:58:12 --> ‚úÖ Teacher::studentAnswerList returning data
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Route = teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:58:12 --> AuthFilter: Token validated successfully for route: teacher/getOverallFeedback/\App\Controllers\Teacher::getOverallFeedback
DEBUG - 2025-12-01 22:58:12 --> üì• Teacher::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:12 --> üìã TeacherModel::getOverallFeedback called with params: {"platform":"web","role_id":"2","user_id":"2478","student_content_id":"8","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 22:58:12 --> üîç Get Overall Feedback Query: SELECT id, student_content_id, feedback, feedback_type, 
                         COALESCE(version, '') as version,
                         status, created_by, created_date, 
                         COALESCE(modified_by, '') as modified_by,
                         COALESCE(modified_date, '') as modified_date 
                  FROM teacher_overall_feedback 
                  WHERE student_content_id = 8 
                  AND status = 1 
                  ORDER BY id DESC
DEBUG - 2025-12-01 22:58:12 --> ‚úÖ Get Overall Feedback returned 0 records
DEBUG - 2025-12-01 22:58:12 --> ‚úÖ Teacher::getOverallFeedback returning 0 feedback records
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:58:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 22:59:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:00:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:01:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:02:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:03:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:04:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:05:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:06:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:07:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:08:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:09:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:10:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:11:47 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:12:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:13:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:14:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:15:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:16:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:17:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:18:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:19:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:20:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:21:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:22:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:23:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:24:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:25:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:26:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:27:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:28:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:29:39 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:30:24 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:30:24 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:24 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:30:24 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:30:24 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:30:24 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:24 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:24 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:24 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:24 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:37 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:30:37 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:30:37 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:30:37 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:37 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:37 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:37 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:37 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:30:37 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:30:37 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:30:37 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:30:37 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:30:37 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:37 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:37 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:30:37 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:30:37 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:31:07 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:31:07 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:31:07 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:31:07 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:31:07 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:31:07 -->    - question_id: 776
DEBUG - 2025-12-01 23:31:07 -->    - question_no: 1
DEBUG - 2025-12-01 23:31:07 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:31:07 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:31:07 -->    - question (type): string
DEBUG - 2025-12-01 23:31:07 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:31:07 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:31:07 -->    - question (length): 14
DEBUG - 2025-12-01 23:31:07 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:31:07 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:31:07 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:31:07 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 30,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:31:08 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:31:08",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 30
}
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:31:08', platform = 1, laq_id = '776', content_time_taken = 30 WHERE id = '8'
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:31:08 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:31:08",
    "content_time_taken": "30",
    "platform": "1"
}
DEBUG - 2025-12-01 23:31:08 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:31:08' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:31:08"
}
DEBUG - 2025-12-01 23:31:08 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:31:08 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:31:08 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:31:37 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:31:37 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:31:37 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:31:37 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:31:37 -->    - question_id: 776
DEBUG - 2025-12-01 23:31:37 -->    - question_no: 1
DEBUG - 2025-12-01 23:31:37 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:31:37 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:31:37 -->    - question (type): string
DEBUG - 2025-12-01 23:31:37 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:31:37 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:31:37 -->    - question (length): 14
DEBUG - 2025-12-01 23:31:37 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:31:37 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:31:37 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 60,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:31:37 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:31:37",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 60
}
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:31:37', platform = 1, laq_id = '776', content_time_taken = 60 WHERE id = '8'
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:31:37 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:31:37",
    "content_time_taken": "60",
    "platform": "1"
}
DEBUG - 2025-12-01 23:31:37 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:31:37' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:31:37"
}
DEBUG - 2025-12-01 23:31:37 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:31:37 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:31:37 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:32:07 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:32:07 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:32:07 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:32:07 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:32:07 -->    - question_id: 776
DEBUG - 2025-12-01 23:32:07 -->    - question_no: 1
DEBUG - 2025-12-01 23:32:07 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:32:07 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:32:07 -->    - question (type): string
DEBUG - 2025-12-01 23:32:07 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:32:07 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:32:07 -->    - question (length): 14
DEBUG - 2025-12-01 23:32:07 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:32:07 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:32:07 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 90,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:32:07 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:32:07",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 90
}
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:32:07', platform = 1, laq_id = '776', content_time_taken = 90 WHERE id = '8'
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:32:07 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:32:07",
    "content_time_taken": "90",
    "platform": "1"
}
DEBUG - 2025-12-01 23:32:07 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:32:07' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:32:07"
}
DEBUG - 2025-12-01 23:32:07 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:32:07 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:32:07 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:32:37 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:32:37 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:32:37 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:32:37 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:32:37 -->    - question_id: 776
DEBUG - 2025-12-01 23:32:37 -->    - question_no: 1
DEBUG - 2025-12-01 23:32:37 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:32:37 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:32:37 -->    - question (type): string
DEBUG - 2025-12-01 23:32:37 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:32:37 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:32:37 -->    - question (length): 14
DEBUG - 2025-12-01 23:32:37 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:32:37 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:32:37 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 120,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:32:37 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:32:37",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 120
}
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:32:37', platform = 1, laq_id = '776', content_time_taken = 120 WHERE id = '8'
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:32:37 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:32:37",
    "content_time_taken": "120",
    "platform": "1"
}
DEBUG - 2025-12-01 23:32:37 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:32:37' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:32:37"
}
DEBUG - 2025-12-01 23:32:37 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:32:37 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:32:37 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:33:07 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:33:07 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:33:07 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:33:07 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:33:07 -->    - question_id: 776
DEBUG - 2025-12-01 23:33:07 -->    - question_no: 1
DEBUG - 2025-12-01 23:33:07 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:33:07 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:33:07 -->    - question (type): string
DEBUG - 2025-12-01 23:33:07 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:33:07 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:33:07 -->    - question (length): 14
DEBUG - 2025-12-01 23:33:07 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:33:07 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:33:07 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 150,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:33:07 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:33:07",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 150
}
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:33:07', platform = 1, laq_id = '776', content_time_taken = 150 WHERE id = '8'
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:33:07 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:33:07",
    "content_time_taken": "150",
    "platform": "1"
}
DEBUG - 2025-12-01 23:33:07 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:33:07' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:33:07"
}
DEBUG - 2025-12-01 23:33:07 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:33:07 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:33:07 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:19 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:19 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:19 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:33:19 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:33:19 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:19 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:19 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:19 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:19 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:19 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:19 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:19 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:19 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:19 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:19 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:19 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:19 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:19 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:19 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:19 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:19 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:19 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:23 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:23 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:23 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:23 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:23 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:33:23 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:33:23 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:33:24 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:24 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:24 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:24 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:24 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:24 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:24 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:24 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:24 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:24 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:25 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:25 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:25 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:25 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:25 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:25 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:25 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:25 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:25 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:25 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:25 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:29 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:29 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:29 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:33:29 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:33:29 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:29 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:29 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:29 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:29 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:29 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:29 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:29 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:29 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:29 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:30 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:30 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:30 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:30 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:30 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:30 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:30 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:30 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:30 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:30 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:30 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:58 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:58 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:58 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:33:58 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:58 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:33:58 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:33:58 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:33:58 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:59 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:59 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:59 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:59 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:59 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:59 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:59 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:59 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:33:59 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:33:59 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:33:59 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:33:59 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:33:59 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:59 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:59 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:33:59 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:33:59 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:07 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:07 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:07 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:07 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:07 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:07 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:34:07 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:34:07 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:08 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:08 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:08 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:08 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:08 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:08 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:08 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:08 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:08 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:08 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:08 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:08 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:08 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:08 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:08 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:08 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:08 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:15 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:15 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:15 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:15 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:15 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:34:15 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:34:15 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:34:16 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:16 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:16 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:16 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:16 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:16 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:16 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:16 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:16 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:16 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:16 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:17 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:17 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:17 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:17 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:17 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:17 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:17 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:17 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:17 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:17 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:32 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:32 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:32 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:32 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:32 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:32 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:34:32 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:34:32 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:33 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:33 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:33 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:33 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:33 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:33 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:33 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:33 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:33 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:33 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:33 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:33 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:33 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:33 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:33 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:33 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:33 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:52 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:52 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:52 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:34:52 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:52 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:34:52 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:34:52 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:34:52 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:53 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:53 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:53 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:53 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:53 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:53 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:53 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:53 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:34:53 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:34:53 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:34:53 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:34:53 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:34:53 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:53 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:53 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:34:53 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:34:53 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:35:23 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:35:23 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:35:23 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:35:23 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:35:23 -->    - question_id: 776
DEBUG - 2025-12-01 23:35:23 -->    - question_no: 1
DEBUG - 2025-12-01 23:35:23 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:35:23 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:35:23 -->    - question (type): string
DEBUG - 2025-12-01 23:35:23 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:35:23 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:35:23 -->    - question (length): 14
DEBUG - 2025-12-01 23:35:23 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:35:23 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:35:23 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 30,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:35:23 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:35:23",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 30
}
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:35:23', platform = 1, laq_id = '776', content_time_taken = 30 WHERE id = '8'
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:35:23 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:35:23",
    "content_time_taken": "30",
    "platform": "1"
}
DEBUG - 2025-12-01 23:35:23 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:35:23' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:35:23"
}
DEBUG - 2025-12-01 23:35:23 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:35:23 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:35:23 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:35:53 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:35:53 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:35:53 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:35:53 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:35:53 -->    - question_id: 776
DEBUG - 2025-12-01 23:35:53 -->    - question_no: 1
DEBUG - 2025-12-01 23:35:53 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:35:53 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:35:53 -->    - question (type): string
DEBUG - 2025-12-01 23:35:53 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:35:53 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:35:53 -->    - question (length): 14
DEBUG - 2025-12-01 23:35:53 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:35:53 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:35:53 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 60,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:35:53 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:35:53",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 60
}
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:35:53', platform = 1, laq_id = '776', content_time_taken = 60 WHERE id = '8'
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:35:53 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:35:53",
    "content_time_taken": "60",
    "platform": "1"
}
DEBUG - 2025-12-01 23:35:53 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:35:53' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:35:53"
}
DEBUG - 2025-12-01 23:35:53 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:35:53 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:35:53 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:36:23 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:36:23 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:36:23 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:36:23 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:36:23 -->    - question_id: 776
DEBUG - 2025-12-01 23:36:23 -->    - question_no: 1
DEBUG - 2025-12-01 23:36:23 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:36:23 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:36:23 -->    - question (type): string
DEBUG - 2025-12-01 23:36:23 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:36:23 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:36:23 -->    - question (length): 14
DEBUG - 2025-12-01 23:36:23 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:36:23 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:36:23 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 90,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:36:23 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:36:23",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 90
}
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:36:23', platform = 1, laq_id = '776', content_time_taken = 90 WHERE id = '8'
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:36:23 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:36:23",
    "content_time_taken": "90",
    "platform": "1"
}
DEBUG - 2025-12-01 23:36:23 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:36:23' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:36:23"
}
DEBUG - 2025-12-01 23:36:23 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:36:23 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:36:23 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Raw batch_id from contentIdList: "1297"
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Loading answers for content_id: 17
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Query: SELECT a.answer_id, a.question_no, 
                  COALESCE(a.question,'') AS question, a.mob_options, 
                  COALESCE(a.section_heading,'') AS heading,a.display_order,a.content_id, a.question_type_id,
                   a.has_sub_question,a.page_no,
                  COALESCE(a.sub_question_no, '') AS sub_question_no, COALESCE(a.options, '') AS options, a.array, a.answer,
                  COALESCE(a.editor_answer) as editor_answer, a.auto_grade,  a.points, 
                  COALESCE(a.difficulty, '') AS difficulty, 
                  COALESCE(a.allow_exact_match, '') AS allow_exact_match,
                  COALESCE(a.allow_any_text, '') AS allow_any_text, 
                  COALESCE(a.match_case, '') AS match_case, 
                  COALESCE(a.answer_explanation, '') as answer_explanation,
                  COALESCE(a.minimum_line, '') AS minimum_line 
                  FROM answers a
                  WHERE a.content_id = '17' AND a.status = 1
                  ORDER BY a.answer_id ASC
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Content ID: 17
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Params: {"platform":"web","role_id":"5","user_id":"2488","student_id":"2488","content_id":"17","student_content_id":0,"class_id":"","school_id":"59","timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Results count: 0
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Results (flat): []
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] All answers in DB (including status != 1): []
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Grouped results count: 0
DEBUG - 2025-12-01 23:36:53 --> üîç [ANSWER LIST] Grouped results: []
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Answers returned: 0
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Answers data: []
DEBUG - 2025-12-01 23:36:53 --> üîç [TEXT_QUESTIONS] Query: SELECT tq.question_id, tq.content_id, tq.question_type_id, tq.sub_question_type_id, 
                  COALESCE(tq.editor_context, '') AS editor_context, tq.editor_type, tq.question_no,
                  tq.sub_question_no, tq.has_sub_question, 
                  CASE 
                    WHEN tq.question IS NULL OR tq.question = '' OR LOWER(TRIM(tq.question)) = 'undefined' OR LOWER(TRIM(tq.question)) = 'null' 
                    THEN '' 
                    ELSE tq.question 
                  END AS question, 
                  tq.options, tq.answer, tq.level, tq.heading_option,
                  tq.multiple_response, tq.audo_grade, tq.points, tq.exact_match, tq.hint, tq.explanation, 
                  COALESCE(tq.resource, '') AS resource, tq.word_limit,
                  tq.scoring_instruction, COALESCE(tq.editor_answer, '') as editor_answer,
                  COALESCE(tq.source, '') AS source,
                  COALESCE(tq.target, '') AS target, tq.passage_id, tq.created_by, tq.created_date,
                  COALESCE(p.passage, '') AS passage, COALESCE(p.title, '') AS passage_title,
                  tq.subject_id, tq.question_topic_id, tq.question_standard, tq.question_sub_topic_id, tq.skill
                  FROM text_questions tq
                  LEFT JOIN passage as p ON tq.passage_id = p.passage_id 
                  WHERE tq.content_id = '17'
                  ORDER BY tq.question_no ASC, tq.sub_question_no ASC
DEBUG - 2025-12-01 23:36:53 --> üîç [TEXT_QUESTIONS] Content ID: 17
DEBUG - 2025-12-01 23:36:53 --> üîç [TEXT_QUESTIONS] Total questions found: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [TEXT_QUESTIONS] Question #0:
DEBUG - 2025-12-01 23:36:53 -->    - question_id: 776
DEBUG - 2025-12-01 23:36:53 -->    - question_no: 1
DEBUG - 2025-12-01 23:36:53 -->    - question_type_id: 1
DEBUG - 2025-12-01 23:36:53 -->    - question (RAW from DB): 'testa qasetase'
DEBUG - 2025-12-01 23:36:53 -->    - question (type): string
DEBUG - 2025-12-01 23:36:53 -->    - question (is_null): NO
DEBUG - 2025-12-01 23:36:53 -->    - question (is_empty): NO
DEBUG - 2025-12-01 23:36:53 -->    - question (length): 14
DEBUG - 2025-12-01 23:36:53 -->    - question (first 100 chars): testa qasetase
DEBUG - 2025-12-01 23:36:53 --> üîç [TEXT_QUESTIONS] Raw SQL results for question column: [
    {
        "question_id": "776",
        "question_no": "1",
        "question": "testa qasetase",
        "question_type_id": "1"
    }
]
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Raw questions from DB (before processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": "[{\"options\":\"aa\"},{\"options\":\"bb\"},{\"options\":\"cc\"},{\"options\":\"dd\"}]",
        "answer": "[{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":0},{\"correctActive\":1}]",
        "level": "2",
        "heading_option": "",
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": "",
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": null
    }
]
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Processing question #0 - question_id: 776
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] BEFORE processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] BEFORE processing - question type: string
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] AFTER processing - question value: 'testa qasetase'
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Final questions array (after processing): [
    {
        "question_id": "776",
        "content_id": "17",
        "question_type_id": "1",
        "sub_question_type_id": "0",
        "editor_context": "",
        "editor_type": "2",
        "question_no": "1",
        "sub_question_no": "0",
        "has_sub_question": "0",
        "question": "testa qasetase",
        "options": [
            {
                "options": "aa"
            },
            {
                "options": "bb"
            },
            {
                "options": "cc"
            },
            {
                "options": "dd"
            }
        ],
        "answer": [
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 0
            },
            {
                "correctActive": 1
            }
        ],
        "level": "2",
        "heading_option": [],
        "multiple_response": "0",
        "audo_grade": "1",
        "points": "1",
        "exact_match": "0",
        "hint": [],
        "explanation": "",
        "resource": "",
        "word_limit": "0",
        "scoring_instruction": "",
        "editor_answer": "",
        "source": "",
        "target": "",
        "passage_id": "0",
        "created_by": "2478",
        "created_date": "2025-11-30 21:44:12",
        "passage": "",
        "passage_title": "",
        "subject_id": "0",
        "question_topic_id": "0",
        "question_standard": "0",
        "question_sub_topic_id": "0",
        "skill": [],
        "given_answer": ""
    }
]
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Total questions count: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Question #0 - question_id: 776, question_type_id: 1, question: testa qasetase...
DEBUG - 2025-12-01 23:36:53 --> ‚úÖ [CONTENT DETAIL] Found existing student_content_id: 8
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] Final ResponseObject being sent:
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] - content_id: 17
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] - content_format: 3
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] - student_content_status: NOT SET
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] - questions count: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [CONTENT DETAIL] - questions[0]: question_id=776, question='testa qasetase'
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] ========== addStudentAnswer called ==========
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Request params: {
    "platform": "web",
    "role_id": "5",
    "user_id": "2488",
    "student_id": "2488",
    "content_id": "17",
    "content_format": "3",
    "student_content_id": "8",
    "content_time_taken": 120,
    "overall_student_feedback": "",
    "questions": [
        {
            "question_id": "776",
            "question_type_id": "1",
            "question_no": "1",
            "points": "1",
            "markedAsReview": false,
            "given_answer": ""
        }
    ],
    "all_autograde": "1",
    "laq_id": "776",
    "status": "1",
    "timezone": "America\/New_York"
}
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] content_format: 3
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] status in request: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] has answers: NO
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] has questions: YES (1)
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Status determination - Requested status: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Current student_content record: {
    "status": "4",
    "redo_test": "0"
}
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Current status: 4, redo_test: 0, requested status: 1
WARNING - 2025-12-01 23:36:53 --> üö´ [SUBMIT] BLOCKED: Auto-save (status=1) attempted on submitted content (status=4). Rejected to preserve submission.
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Status change blocked - keeping submitted status: 4
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Final status to be saved: 4
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Updating student_content table
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] student_content_id: 8
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Update data: {
    "status": "4",
    "student_feedback": "",
    "upload_answer": "",
    "answer_completed_date": "2025-12-01 23:36:53",
    "platform": 1,
    "laq_id": "776",
    "content_time_taken": 120
}
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] UPDATE SQL: UPDATE student_content SET status = '4', student_feedback = '', upload_answer = '', answer_completed_date = '2025-12-01 23:36:53', platform = 1, laq_id = '776', content_time_taken = 120 WHERE id = '8'
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Update result: SUCCESS (rows affected: 1)
DEBUG - 2025-12-01 23:36:53 --> üîç [SUBMIT] Verification query result: {
    "status": "4",
    "answer_completed_date": "2025-12-01 23:36:53",
    "content_time_taken": "120",
    "platform": "1"
}
DEBUG - 2025-12-01 23:36:53 --> ‚úÖ [SUBMIT] Status verified - matches expected: 4
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] Processing questions array. Count: 1
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] Processing question #0 without subQuestions. question_id: 776
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] Check existing question SQL: SELECT * FROM student_answers WHERE answer_id = 776 AND student_content_id = 8
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] Existing question found: YES (1)
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] UPDATE question SQL: UPDATE student_answers SET student_answer = '', options = '', student_answer_image = '', rough_image_thumb_url = '', rough_image_url = '', jiixdata = '', roughdata = '', student_roughdata = '', time_taken = '', is_correct = '', no_of_attempt = 1, marked_review = 0, answer_status = 4, modified_by = '2488', modified_date = '2025-12-01 23:36:53' WHERE answer_id = '776' AND student_content_id = '8'
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] UPDATE question data: {
    "student_answer": "",
    "options": "",
    "student_answer_image": "",
    "rough_image_thumb_url": "",
    "rough_image_url": "",
    "jiixdata": "",
    "roughdata": "",
    "student_roughdata": "",
    "time_taken": "",
    "is_correct": "",
    "no_of_attempt": 1,
    "marked_review": 0,
    "answer_status": 4,
    "modified_by": "2488",
    "modified_date": "2025-12-01 23:36:53"
}
DEBUG - 2025-12-01 23:36:53 --> üîç [SAVE ANSWER] Total score query: 
                        SELECT COALESCE(SUM(earned_points), 0) as earned_points,
                               COALESCE(SUM(actual_points), 0) as points
                        FROM student_answers
                        WHERE student_content_id = 8
                    
DEBUG - 2025-12-01 23:36:53 --> ‚úÖ [SUBMIT] Returning success response: Answers Submitted Successfully
DEBUG - 2025-12-01 23:36:53 --> ‚úÖ [SUBMIT] Final status in response: 4
DEBUG - 2025-12-01 23:37:15 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:15 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:15 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:15 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:15 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:15 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:37:15 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:37:15 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:17 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:17 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:17 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:17 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:17 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:17 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:17 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:17 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:17 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:17 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:17 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:17 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:17 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:17 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:17 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:17 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:17 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:37:21 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:21 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:21 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:21 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:21 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:21 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:37:21 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:37:21 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:37:23 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:23 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:23 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:23 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:23 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:23 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:23 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:23 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:23 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:23 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:23 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:37:24 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:24 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:24 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:24 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:24 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:24 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:24 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:24 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:24 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:24 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:37:40 --> AuthFilter: Route = teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:40 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:40 --> AuthFilter: Token validated successfully for route: teacher/teacherassignStudent/\App\Controllers\Teacher::teacherassignStudent
DEBUG - 2025-12-01 23:37:40 --> üì• Teacher::teacherassignStudent called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:40 --> üìã TeacherModel::teacherAssign called with params: {"platform":"web","role_id":"2","user_id":"2478","content_id":"17","content_format":"3","class_id":"1374","type":0,"timezone":"America\/New_York"}
DEBUG - 2025-12-01 23:37:40 --> üîç Teacher Assign Query: SELECT s.id as student_content_id, s.content_id, s.student_id, (select count(question_no) from text_questions where content_id = s.content_id) as total_question,
                          (CASE WHEN (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) != '' THEN
                          (SELECT SUM(points) FROM text_questions WHERE content_id = s.content_id) ELSE
                          (SELECT points FROM student_content WHERE 
                          id = s.id ) END) as total_points,
                    (CASE WHEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) != ''
                    THEN (SELECT SUM(earned_points) FROM student_answers 
                    WHERE student_content_id = s.id) ELSE
                    (SELECT earned_points FROM student_content 
                    WHERE id = s.id ) END) AS earned_points,
                    COALESCE(up.profile_url,'') as student_profile,
                    CONCAT_WS(' ', up.first_name, up.last_name) as student_name, s.status,
                    (CASE WHEN (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) = '' THEN '-'
                    ELSE (SELECT count(question_no) FROM student_answers 
                    WHERE student_content_id = s.id AND answer_status != 4) END) AS attend_questions,
                    s.points as total_marks, s.earned_points as marks, 
                    DATE_FORMAT(s.answer_completed_date,'%m-%d-%Y') as answer_completed_date,
                    DATE_FORMAT(s.score_release_date, '%m-%d-%Y') as score_release_date, 
                    COALESCE(s.feedback,'') as teacher_feedback,
                    (SELECT class_id FROM class WHERE class_id = s.class_id) AS class_id,
                    (SELECT class_name FROM class WHERE class_id = s.class_id) AS class_name,
                    (SELECT test_type_id FROM content WHERE content_id = s.content_id) AS test_type_id,
                    (SELECT is_test FROM content WHERE content_id = s.content_id) AS is_test 
                    FROM student_content as s
                    LEFT JOIN user_profile as up ON up.user_id = s.student_id
                    WHERE s.content_id='17' 
                    AND s.class_id = 1374 
                    AND s.student_id IN ((SELECT student_id FROM student_class 
                                         WHERE status IN (1,3) AND class_id = '1374' 
                                         AND student_id = s.student_id))
                      
                    GROUP BY s.student_id
DEBUG - 2025-12-01 23:37:40 --> ‚úÖ Teacher Assign returned 1 students
DEBUG - 2025-12-01 23:37:40 --> ‚úÖ Teacher::teacherassignStudent returning 1 students
DEBUG - 2025-12-01 23:37:41 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:41 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:41 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:41 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:41 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:41 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:41 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:41 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:41 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:41 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:41 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:37:42 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:42 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:37:42 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:37:42 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:37:42 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:37:42 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:37:42 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:42 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:42 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:37:42 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:37:42 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:28 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:38:28 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:38:28 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:38:28 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:28 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:28 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:28 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:28 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:38:28 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:28 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:38:28 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:38:28 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:38:28 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:28 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:28 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:28 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:28 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:50 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:38:50 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:38:50 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:38:50 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:50 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:50 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:50 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:50 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Route = unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:38:50 --> AuthFilter: Token validated successfully for route: unified-content/load-content/([0-9]+)/\App\Controllers\UnifiedContent::loadContent/$1
DEBUG - 2025-12-01 23:38:50 --> üìã getQuestionsByContentId - Content ID: 17
DEBUG - 2025-12-01 23:38:50 --> üìã Found 1 questions
DEBUG - 2025-12-01 23:38:50 --> üîç extractMcqOptions - Question ID: 776
DEBUG - 2025-12-01 23:38:50 --> üîç Raw options JSON: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:50 --> üîç Raw answer JSON: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:50 --> üîç Decoded options: [{"options":"aa"},{"options":"bb"},{"options":"cc"},{"options":"dd"}]
DEBUG - 2025-12-01 23:38:50 --> üîç Decoded answers: [{"correctActive":0},{"correctActive":0},{"correctActive":0},{"correctActive":1}]
DEBUG - 2025-12-01 23:38:50 --> üîç Transformed options: [{"optionText":"aa","isCorrect":false,"order":0,"feedback":""},{"optionText":"bb","isCorrect":false,"order":1,"feedback":""},{"optionText":"cc","isCorrect":false,"order":2,"feedback":""},{"optionText":"dd","isCorrect":true,"order":3,"feedback":""}]
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:40:51 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
WARNING - 2025-12-01 23:40:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 23:40:51 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:41:51 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:42:51 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:43:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
WARNING - 2025-12-01 23:43:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$allowedRoutes is deprecated in APPPATH/Controllers/School.php on line 95.
 1 APPPATH/Controllers/School.php(39): App\Controllers\School->verifyAuthUrl()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
WARNING - 2025-12-01 23:43:24 --> [DEPRECATED] Creation of dynamic property App\Controllers\School::$excludeRoutes is deprecated in APPPATH/Controllers/School.php on line 153.
 1 APPPATH/Controllers/School.php(42): App\Controllers\School->excludefunction()
 2 SYSTEMPATH/CodeIgniter.php(904): App\Controllers\School->initController(Object(CodeIgniter\HTTP\IncomingRequest), Object(CodeIgniter\HTTP\Response), Object(CodeIgniter\Log\Logger))
 3 SYSTEMPATH/CodeIgniter.php(498): CodeIgniter\CodeIgniter->createController()
 4 SYSTEMPATH/CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH/Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH/Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH/index.php(63): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:44:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:45:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:46:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:47:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:48:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:49:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:50:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:51:24 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:52:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:53:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:54:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:55:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Token validated successfully for route: student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:56:46 --> AuthFilter: Token validated successfully for route: student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Route = student/curriculumList/\App\Controllers\Student::curriculumList
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Route = student/classList/\App\Controllers\Student::classList
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Token = eyJ0eXAiOiJKV1QiLCJh...
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Token timestamp validation failed
DEBUG - 2025-12-01 23:57:46 --> AuthFilter: Token timestamp validation failed
